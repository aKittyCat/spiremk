<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Spire Market Item List & Price</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "fantasy-gold":
              "#E3B341" /* ‡∏ó‡∏≠‡∏á‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏≠‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏°‡∏∑‡∏î */,
            "fantasy-purple": "#8A5CFF" /* ‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏Ñ‡∏ô‡∏™‡∏î ‡πÉ‡∏Å‡∏•‡πâ‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏≠‡∏ô‡∏ô‡∏¥‡∏î ‡πÜ */,
            "fantasy-dark":
              "#0B0E14" /* ‡∏´‡∏°‡∏∂‡∏Å-‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≥ (‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô/‡∏Å‡∏£‡∏≠‡∏ö) */,
            "fantasy-red": "#F43F5E" /* ‡πÅ‡∏î‡∏á‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢‡πÅ‡∏ó‡∏ô‡πÅ‡∏î‡∏á‡∏™‡∏î‡πÄ‡∏Å‡πà‡∏≤ */,

            "fantasy-aether": "#22D3EE" /* ‡∏≠‡∏µ‡πÄ‡∏ó‡∏≠‡∏£‡πå/‡πÑ‡∏ã‡∏¢‡∏≤‡∏ô ‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡∏ô‡∏¥‡∏î ‡πÜ */,
            "fantasy-emerald": "#2DD4BF" /* ‡πÄ‡∏≠‡πÄ‡∏°‡∏≠‡∏£‡∏±‡∏•‡∏î‡πå‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏Ñ‡∏ß‡∏≠‡∏¢‡∏™‡πå */,
            "fantasy-silver":
              "#C8D3F5" /* ‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏°‡∏ü‡πâ‡∏≤ ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠/‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á */,
            "fantasy-bone":
              "#EDE8D6" /* ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å-‡∏û‡∏≤‡∏£‡πå‡∏ä‡πÄ‡∏°‡∏ô‡∏ï‡πå ‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */,
            "fantasy-void":
              "#0F1021" /* ‡∏≠‡∏¥‡∏ô‡∏î‡∏¥‡πÇ‡∏Å‡πâ‡∏î‡∏≥ ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏Å‡∏£‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ô‡∏ï‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */,
          },
        },
      },
    };
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');

    body {
      font-family: 'Sarabun', sans-serif;
    }

    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #111827;
    }

    ::-webkit-scrollbar-thumb {
      background: #374151;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #4b5563;
    }

    .glass-panel {
      background: rgba(31, 41, 55, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(75, 85, 99, 0.4);
    }

    .gradient-text {
      background: linear-gradient(to right, #c084fc, #818cf8);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .scroll-container {
      max-height: 70vh;
      overflow-y: auto;
    }

    .admin-panel {
      display: none;
    }

    .admin-panel.active {
      display: block;
    }

    .rarity-common {
      background-color: #4b5563;
      color: white;
    }

    .rarity-uncommon {
      background-color: #2dd4bf;
      color: black;
    }

    .rarity-rare {
      background-color: #8a5cff;
      color: white;
    }

    .rarity-very-rare {
      background-color: #22d3ee;
      color: black;
    }

    .rarity-legendary {
      background-color: #e3b341;
      color: black;
    }

    .rarity-artifact {
      background-color: #f43f5e;
      color: white;
    }

    .rarity-mundane {
      background-color: #0b0e14;
      color: #c8d3f5;
    }

    .hint-badge {
      font-size: 0.75rem;
      padding: 0.15rem 0.5rem;
      border-radius: 0.375rem;
    }

    #itemsList table {
      table-layout: fixed;
      width: 100%;
    }

    #itemsList thead th:first-child,
    #itemsList tbody tr[data-row-index] td:first-child {
      text-align: center;
      padding-left: 0.25rem;
      padding-right: 0.25rem;
      width: 4rem;
    }

    @media (max-width: 768px) {

      #itemsList thead th:first-child,
      #itemsList tbody tr[data-row-index] td:first-child {
        width: 3rem;
      }
    }

    #itemsList thead th:nth-child(2),
    #itemsList tbody td:nth-child(2) {
      text-align: left;
      padding-left: 0.5rem;
    }

    /* Custom Select Style */
    select {
      appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      background-size: 1em;
    }

    /* Navigation button styles */
    .nav-btn {
      transition: all 0.15s ease-out;
    }

    .nav-btn.active {
      background: rgba(147, 51, 234, 0.3) !important;
      color: #c4b5fd !important;
      border-color: rgba(139, 92, 246, 0.5) !important;
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
    }

    .nav-btn:not(.active):hover {
      background: rgba(55, 65, 81, 0.8) !important;
      transform: translateY(-2px);
    }

    /* Page content transitions */
    .page-content {
      animation: fadeIn 0.15s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(8px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body class="bg-gray-950 text-gray-200 min-h-screen selection:bg-purple-500 selection:text-white">
  <!-- Header -->
  <div class="max-w-[1800px] mx-auto p-4 sm:p-6 lg:p-8">
    <div class="flex flex-col md:flex-row justify-between items-center mb-8 pb-6 border-b border-gray-800 gap-4">
      <div class="flex items-center gap-4">
        <div class="p-3 bg-gray-800 rounded-xl shadow-lg border border-gray-700">
          <span class="text-2xl">üè™</span>
        </div>
        <div>
          <h1 class="text-3xl font-bold text-white tracking-tight">
            The <span class="gradient-text">Spire</span> Market
          </h1>
          <p class="text-xs text-gray-500 mt-1">Item List & Price</p>
        </div>
      </div>

      <div class="flex items-center gap-3">
        <button id="adminToggle"
          class="glass-panel bg-purple-600/10 hover:bg-purple-600/20 text-purple-300 hover:text-purple-200 border-purple-500/30 px-5 py-2.5 rounded-xl shadow-lg transition-all duration-200 text-sm font-semibold flex items-center gap-2 hidden md:flex">
          <span>‚öôÔ∏è</span> Admin Panel
        </button>
      </div>
    </div>

    <!-- Navigation -->
    <div class="flex flex-wrap gap-3 mb-8 justify-center">
      <button class="nav-btn active glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2"
        data-page="guide">
        üìú ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="mundane">
        ‚ò†Ô∏è Mundane & Boons
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="gemstone">
        üíé Gemstone
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="pet">
        üêà Pet
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="crafting">
        üî® Crafting
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="spells-research">
        üîÆ Spells Research
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="updates">
        üì∞ ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
      </button>
      <button
        class="nav-btn glass-panel px-5 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 text-gray-300"
        data-page="items">
        ‚öîÔ∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
      </button>
    </div>

    <!-- Main Content -->
    <main class="max-w-none mx-auto">
      <!-- Admin Panel -->
      <div id="adminPanel" class="admin-panel mb-8 glass-panel rounded-2xl p-6 border-t-4 border-t-rose-500/50">
        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
          <span class="bg-rose-500/20 p-1.5 rounded-lg text-sm">üõ°Ô∏è</span> Admin Panel
        </h2>
        <div class="grid md:grid-cols-2 gap-6">
          <!-- Add/Edit Item Form -->
          <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-bold text-purple-300">‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</h3>
              <span id="itemEditHint" class="hidden bg-yellow-500 text-black hint-badge">‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span>
            </div>
            <form id="itemForm" class="space-y-3">
              <input type="hidden" id="itemId" />
              <input type="text" id="itemName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°" class="w-full p-2 rounded bg-gray-700 text-white"
                required />
              <input type="url" id="itemNameLink" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"
                class="w-full p-2 rounded bg-gray-700 text-white" />
              <select id="itemAttune" class="w-full p-2 rounded bg-gray-700 text-white">
                <option value="No">No Attunement</option>
                <option value="Yes">Requires Attunement</option>
              </select>
              <select id="itemPerDis" class="w-full p-2 rounded bg-gray-700 text-white">
                <option value="‡∏ñ‡∏≤‡∏ß‡∏£">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ñ‡∏≤‡∏ß‡∏£</option>
                <option value="‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á</option>
              </select>
              <input type="text" id="itemType" placeholder="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó" class="w-full p-2 rounded bg-gray-700 text-white"
                required />
              <input type="text" id="itemPrice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤" class="w-full p-2 rounded bg-gray-700 text-white"
                required />
              <select id="itemTier" class="w-full p-2 rounded bg-gray-700 text-white">
                <option value="Tier 0">Tier 0</option>
                <option value="Tier 1">Tier 1</option>
                <option value="Tier 2">Tier 2</option>
                <option value="Tier 3">Tier 3</option>
                <option value="Tier 4">Tier 4</option>
                <option value="Tier 5">Tier 5</option>
              </select>
              <select id="itemRarity" class="w-full p-2 rounded bg-gray-700 text-white">
                <option value="Common">Common</option>
                <option value="Uncommon">Uncommon</option>
                <option value="Rare">Rare</option>
                <option value="Very Rare">Very Rare</option>
                <option value="Legendary">Legendary</option>
                <option value="Artifact">Artifact</option>
                <option value="Mundane">Mundane</option>
              </select>
              <input type="text" id="itemBook" placeholder="‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠" class="w-full p-2 rounded bg-gray-700 text-white"
                required />
              <textarea id="itemDescription" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"
                class="w-full p-2 rounded bg-gray-700 text-white h-20"></textarea>
              <div class="flex gap-2">
                <button type="submit"
                  class="flex-1 bg-fantasy-gold text-black py-2 rounded font-bold hover:bg-yellow-500 transition-colors">
                  ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
                </button>
                <button type="button" id="itemCancelEdit" class="px-4 py-2 rounded bg-gray-600 hover:bg-gray-700">
                  ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                </button>
              </div>
            </form>
          </div>

          <!-- Add/Edit Update Form -->
          <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-bold text-purple-300">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó</h3>
              <span id="updateEditHint" class="hidden bg-yellow-500 text-black hint-badge">‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span>
            </div>
            <form id="updateForm" class="space-y-3">
              <input type="hidden" id="updateId" />
              <input type="text" id="updateTitle" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠"
                class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 text-white" required />
              <input type="date" id="updateDate"
                class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 text-white" required />
              <textarea id="updateContent" placeholder="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤"
                class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 text-white h-20" required></textarea>
              <div class="flex gap-2">
                <button type="submit"
                  class="flex-1 bg-purple-600 hover:bg-purple-500 text-white py-2 rounded-lg font-bold shadow-lg shadow-purple-500/20 transition-all">
                  ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
                </button>
                <button type="button" id="updateCancelEdit"
                  class="px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white">
                  ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Page Content -->
      <div id="pageContent">
        <!-- Guide Page -->
        <div id="guidePage" class="page-content">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center flex items-center justify-center gap-3">
              <span class="bg-yellow-500/20 p-2 rounded-xl">üìú</span>
              <span>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</span>
            </h2>
            <div class="text-base space-y-6">
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üõí ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö Mundane
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Å‡∏£‡∏≤‡∏∞, ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò,
                    ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ (Adventuring Gear) ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡πÉ‡∏ô
                    Player's Handbook 2014 ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ô‡∏∂‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢‡πÉ‡∏ô Tracking Sheet
                    ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏î‡∏¥‡∏™‡∏Ñ‡∏≠‡∏£‡πå‡∏ó
                  </li>
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏¢‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å ‡πÄ‡∏ä‡πà‡∏ô Mundane Item, Tattoo,
                    Manual, ‡πÅ‡∏•‡∏∞ Misc
                  </li>
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                    ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏î‡πâ‡πÉ‡∏ô Crafting Only Item
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üí∞ ‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢ Magic Item
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ DM ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô Session
                    ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ
                    ‡∏ï‡∏≤‡∏° Tier
                  </li>
                  <li>
                    ‚Ä¢ ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DM ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô Session
                    ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ
                    DM ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô
                  </li>
                  <li>‚Ä¢ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏° ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ 2 ‡∏ß‡∏¥‡∏ò‡∏µ</li>
                  <li>
                    1. ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Session ‡∏ñ‡πâ‡∏≤ DM ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏ä‡πÅ‡∏ô‡∏•
                    waters-gate-marketplace
                  </li>
                  <li>
                    2. ‡∏ô‡∏≠‡∏Å Session
                    ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏•‡πÄ‡∏û‡∏•‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏ä‡πÅ‡∏ô‡∏•
                    waters-gate-marketplace
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÉ‡∏ô‡πÅ‡∏ä‡πÅ‡∏ô‡∏•‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ô‡πâ‡∏≥
                    ‡πÅ‡∏ä‡πÅ‡∏ô‡∏•‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ô‡πâ‡∏≥‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î slowmode ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ
                    ‡∏ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  ‚öíÔ∏è ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á +1 Weapon,
                    +1 Armor, Generic Variant, ‡∏´‡∏£‡∏∑‡∏≠ Vestige of Divergence
                    ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ
                  </li>
                  <li>
                    - +1 Item -
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà‡∏Ñ‡πà‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏°‡∏µ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
                    ‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Longsword ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á 450gp
                    ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô +1 Longsword ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢ 15gp
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Longsword
                  </li>
                  <li>
                    - Generic Variant -
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏ô‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö
                    +1 item
                  </li>
                  <li>
                    - Vestige of Divergence -
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á !craft ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÅ‡∏ä‡πÅ‡∏ô‡∏•
                    crafting ‡πÉ‡∏ô‡∏î‡∏¥‡∏™‡∏Ñ‡∏≠‡∏£‡πå‡∏ó
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
                  </li>
                  <li>
                    *‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô +1 item ‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô Generic Variant ‡πÑ‡∏î‡πâ
                    ‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Generic Variant ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô +1 Item ‡πÑ‡∏î‡πâ
                  </li>
                  <li>
                    **‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏à‡∏≤‡∏Å +1 item ‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô +2 item
                    ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô
                    ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏à‡∏≤‡∏Å +1 Dagger ‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô +2 Dagger
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πà‡∏≤‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á 450gp ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÑ‡∏î‡πâ
                    ‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Dagger ‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö +1 Item
                    ‡∏Ñ‡∏∑‡∏≠ ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á 900gp ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÄ‡∏û‡∏¥‡πà‡∏°
                    (+3 item ‡∏Å‡πá‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Gemstone Page -->
        <div id="gemstonePage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center flex items-center justify-center gap-3">
              <span class="bg-cyan-500/20 p-2 rounded-xl">üíé</span>
              <span>‡∏Å‡∏è‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ Gemstone</span>
            </h2>
            <div class="text-base space-y-6">
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üíé ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Gemstone (DMG, p.134)
                </h3>
                <div class="grid md:grid-cols-3 gap-x-0 gap-y-4">
                  <div>
                    <h4 class="font-bold text-green-400 mb-2">‡∏ä‡∏∑‡πà‡∏≠</h4>
                    <ul class="text-gray-300 space-y-1">
                      <li>‚Ä¢ 10 gp Gemstones</li>
                      <li>‚Ä¢ 50 gp Gemstones</li>
                      <li>‚Ä¢ 100 gp Gemstones</li>
                      <li>‚Ä¢ 500 gp Gemstones</li>
                      <li>‚Ä¢ 1,000 gp Gemstones</li>
                      <li>‚Ä¢ 5,000 gp Gemstones</li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="font-bold text-orange-400 mb-2">Tier</h4>
                    <ul class="text-gray-300 space-y-1">
                      <li>Tier 0</li>
                      <li>Tier 1</li>
                      <li>Tier 1</li>
                      <li>Tier 1</li>
                      <li>Tier 2</li>
                      <li>Tier 2</li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="font-bold text-blue-400 mb-2">‡∏£‡∏≤‡∏Ñ‡∏≤</h4>
                    <ul class="text-gray-300 space-y-1">
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx1</li>
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx1.1</li>
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx1.25</li>
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx1.5</li>
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx1.75</li>
                      <li>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ôx2</li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üìã ‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    1. ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ Gemstone
                    ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≤‡∏á DM ‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Reward Action
                    Surge (‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• DM x2) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÇ‡∏î‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 24
                    ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô
                  </li>
                  <li>
                    2. ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≠‡∏á Gemstone ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á Gemstone ‡∏ô‡∏±‡πâ‡∏ô‡πÜ
                    ‡πÇ‡∏î‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠ Gemstone ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏ó‡∏Ç‡∏≠‡∏á
                    Gemstone ‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠ Opal 200gp worth
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á 200x1.75=350gp
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Mundane Page -->
        <div id="mundanePage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center flex items-center justify-center gap-3">
              <span class="bg-gray-500/20 p-2 rounded-xl">‚ò†Ô∏è</span>
              <span>Mundane & Boons</span>
            </h2>

            <div class="text-base space-y-6">

              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üéÅ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Boons
                </h3>
                <p class="text-gray-300 mb-4">
                  ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ Boon ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô Reward Action Surge ‡∏à‡∏≤‡∏Å Dungeon
                  Master ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á
                  <span class="text-fantasy-emerald font-bold">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Åartifact‡πÅ‡∏•‡∏∞boon</span>
                  ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏™‡∏ï‡∏≤‡∏ü‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠
                </p>
                <p class="text-gray-300 mb-4">
                  <span class="text-fantasy-red font-bold">‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:</span> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ Boon ‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 3
                  ‡∏≠‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡πÅ‡∏•‡∏∞ Boon ‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏°‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏≠‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ
                </p>

                <div class="bg-gray-900/50 rounded border border-gray-700 p-4 mt-4">
                  <h4 class="font-bold text-purple-300 mb-2">üìã ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°</h4>
                  <div class="grid md:grid-cols-2 gap-6">
                    <div>
                      <strong class="text-white block mb-2 text-sm border-b border-gray-600 pb-1">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ã‡∏∑‡πâ‡∏≠
                        Boons</strong>
                      <div class="text-sm text-gray-400 font-mono bg-black/40 p-3 rounded select-all">
                        ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£: <br>
                        Boon: <br>
                        ‡∏£‡∏≤‡∏Ñ‡∏≤: <br>
                        ‡∏£‡∏∞‡∏î‡∏±‡∏ö Tier ‡∏Ç‡∏≠‡∏á Boon:
                      </div>
                    </div>

                    <div>
                      <strong class="text-white block mb-2 text-sm border-b border-gray-600 pb-1">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•
                        Artifact</strong>
                      <div class="text-sm text-gray-400 font-mono bg-black/40 p-3 rounded select-all">
                        ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£: <br>
                        ‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Artifact: <br>
                        ‡∏£‡∏∞‡∏î‡∏±‡∏ö Tier ‡∏Ç‡∏≠‡∏á Artifact: <br>
                        Artifact Beneficial Properties: <br>
                        Artifact Detrimental Properties:
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üíÄ ‡∏Å‡∏è‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö (PHB, p.258)
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Å‡∏è‡∏à‡∏≤‡∏Å Player's Handbook (PHB)
                    ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏°‡∏µ Proficiency ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Poisoner's Kit
                    ‡πÇ‡∏î‡∏¢‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏ö‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏û‡∏¥‡πÄ‡∏®‡∏©
                    ‡πÄ‡∏ä‡πà‡∏ô Wyvern Poision
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏à‡∏≤‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏°‡∏µ‡∏û‡∏¥‡∏©‡πÑ‡∏î‡πâ
                    ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏°‡∏î‡∏™‡∏†‡∏≤‡∏û‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 1d6
                    ‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏•‡∏∞ DC 20 Intelligence (Nature) Check ‡∏´‡∏£‡∏∑‡∏≠ Poisoner's Kit Check
                  </li>
                  <li>
                    ‚Ä¢ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏°‡∏µ Proficiency ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡πÑ‡∏î‡πâ 1 ‡∏≠‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡πÅ‡∏ï‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 5 ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏à‡∏≤‡∏Å‡∏û‡∏¥‡∏©‡πÅ‡∏ó‡∏ô
                  </li>
                </ul>
              </div>

              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üìã ‡∏Å‡∏è‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏û‡∏¥‡∏©
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Action ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Injury
                    ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò, ‡∏•‡∏π‡∏Å‡∏ò‡∏ô‡∏π, ‡∏Å‡∏£‡∏∞‡∏™‡∏∏‡∏ô, ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
                  </li>
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Ammunition ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡πÑ‡∏î‡πâ 3 ‡∏≠‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏û‡∏¥‡∏© 1 ‡∏≠‡∏±‡∏ô
                    ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡∏à‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏≠‡∏¢‡∏π‡πà 1 ‡∏ô‡∏≤‡∏ó‡∏µ
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡∏°‡∏µ Poisoner's Kit Proficiency
                    ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏¢‡∏≤‡∏û‡∏¥‡∏©‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ
                  </li>
                </ul>
              </div>

            </div>
          </div>
        </div>

        <!-- Pet Page -->
        <div id="petPage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">
              <span class="bg-orange-500/20 p-2 rounded-xl">üêà</span>
              <span>‡∏Å‡∏è‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</span>
            </h2>
            <div class="text-base space-y-6">
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üòº ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡πÅ‡∏•‡∏∞ Favor
                    ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏ô‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á 1
                    ‡∏ï‡∏±‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg w-fit mx-auto my-8">
                  <table class="text-sm text-white border-collapse">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          CR
                        </th>
                        <th class="px-6 py-3 border border-neutral-600 text-center font-bold">
                          ‡∏ó‡∏≠‡∏á (Gold)
                        </th>
                        <th class="px-6 py-3 border border-neutral-600 text-center font-bold">
                          Favor
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 0
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          300
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          25
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/8
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          450
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          50
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/4
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          600
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          75
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/2
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          750
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          100
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          1000
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          150
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 2
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          1500
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          200
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 3
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          2000
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          250
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üôÄ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏Ñ‡πà Favor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏î‡πâ
                    ‡πÅ‡∏ï‡πà
                    Action ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏°‡∏≤‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg w-fit mx-auto my-8">
                  <table class="text-sm text-white border-collapse">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          CR
                        </th>
                        <th class="px-6 py-3 border border-neutral-600 text-center font-bold">
                          Favor
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 0
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          10
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/8
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          25
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/4
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          50
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1/2
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          75
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 1-2
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          100
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700">
                          CR 3
                        </td>
                        <td class="px-6 py-2 text-center border border-neutral-700">
                          150
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üòæ Pet Training
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Action ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏î‡πâ
                    ‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢
                    25 Favor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Action 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
                    ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏∑‡∏≠ ‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Action ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 3 ‡∏≠‡∏±‡∏ô‡πÅ‡∏•‡∏∞ Action
                    ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏°‡∏µ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 3
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg w-fit mx-auto my-8">
                  <table class="text-sm text-white border-collapse">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          Action
                        </th>
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Guard
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡πÉ‡∏ä‡πâ Reaction ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÄ‡∏õ‡πá‡∏ô Disadvantage
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Grapple
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡πÉ‡∏ä‡πâ Action ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Grapple ‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Search
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡πÉ‡∏ä‡πâ Action ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Perception Check
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Keep Watch
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ù‡πâ‡∏≤‡∏¢‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Fetch
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡πÉ‡∏ä‡πâ Action ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Shove
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          ‡πÉ‡∏ä‡πâ Action ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏±‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üòΩ Pet Armor
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢ ‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ï‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ
                    ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏£‡∏≤‡∏∞‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô Armor, +1 Armor, +2 Armor, +3 Armor
                    ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                    ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏£‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg w-fit mx-auto my-8">
                  <table class="text-sm text-white border-collapse">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          Size
                        </th>
                        <th class="px-6 py-3 border border-neutral-600 text-left font-bold">
                          Armor
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Tiny
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          None
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Small
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          Light Armor
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Medium
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          Light Armor, Medium Armor
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                        <td class="px-6 py-2 border border-neutral-700 whitespace-nowrap">
                          Large
                        </td>
                        <td class="px-6 py-2 border border-neutral-700">
                          Light Armor, Medium Armor, Heavy Armor
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üòø ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0
                    ‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏≠‡∏Ñ‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏à‡∏ö‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üò∫ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ Intelligence ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 5 ‡πÅ‡∏•‡∏∞
                    Size
                    ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô Large ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏î‡πâ
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö Tier ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö CR
                    ‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ö‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <div class="flex items-center space-x-2 mb-4">
                  <h3 class="text-xl font-bold text-purple-300">
                    üòª ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
                  </h3>
                  <button id="openModalBtn"
                    class="bg-black px-4 py-2 rounded-lg font-semibold transition-all hover:scale-105">
                    üõí
                  </button>
                </div>

                <div class="flex justify-center w-full p-4">
                  <div class="w-full max-w-2xl">
                    <h4 class="text-xl font-bold text-white mb-4 text-center border-b border-neutral-600 pb-2">
                      ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</h4>
                    <div class="overflow-x-auto rounded-lg shadow-lg w-full mx-auto">
                      <table class="text-sm text-white border-collapse w-full">
                        <thead>
                          <tr class="bg-neutral-700">
                            <th class="px-4 py-3 border border-neutral-600 text-left font-bold">CR (Challenge Rating)
                            </th>
                            <th class="px-4 py-3 border border-neutral-600 text-left font-bold">Tier</th>
                            <th class="px-4 py-3 border border-neutral-600 text-left font-bold">Creature Type</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">CR 0-1/8</td>
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">1</td>
                            <td class="px-4 py-2 border border-neutral-700">Beast, Fey, Fiend</td>
                          </tr>
                          <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">CR 1/4-1/2</td>
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">2</td>
                            <td class="px-4 py-2 border border-neutral-700">Beast, Fey, Fiend, Construct, Plant</td>
                          </tr>
                          <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">CR 1</td>
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">3</td>
                            <td class="px-4 py-2 border border-neutral-700">Beast, Fey, Fiend, Construct, Plant, Ooze,
                              Elemental</td>
                          </tr>
                          <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">CR 2</td>
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">4</td>
                            <td class="px-4 py-2 border border-neutral-700">Beast, Fey, Fiend, Construct, Plant, Ooze,
                              Elemental, Dragon, Monstrosity</td>
                          </tr>
                          <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">CR 3</td>
                            <td class="px-4 py-2 border border-neutral-700 whitespace-nowrap">5</td>
                            <td class="px-4 py-2 border border-neutral-700">Beast, Fey, Fiend, Construct, Plant, Ooze,
                              Elemental, Dragon, Monstrosity, Aberration</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Crafting Page -->
        <div id="craftingPage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">
              <span class="bg-stone-500/20 p-2 rounded-xl">üî®</span>
              <span>‡∏Å‡∏è‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Crafting</span>
            </h2>
            <div class="text-base space-y-6">
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  ‚öíÔ∏è Crafing Rule
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Proficient
                    ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô Smith's Tools
                    ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏£‡∏≤‡∏∞
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞ Favor ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á
                  </li>
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á !craft
                    discard ‡πÅ‡∏ï‡πà‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∑‡∏ô
                  </li>
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Artifact, ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö Legendary
                    ‡πÅ‡∏•‡∏∞‡∏ö‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                  </li>
                  <li>‚Ä¢ ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏à‡∏≤‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏î‡πâ</li>
                  <li>
                    ‚Ä¢ ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô
                    Spell, Class Feature, ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô
                    Prof. bonus, Guidance, Flash of Genius, etc
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üíç ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (Craft Only Item)
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Craft Only Item ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏à‡∏≤‡∏Å‡∏ó‡∏≤‡∏á DM
                    ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Reward Action Surge (‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• DM x2) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÇ‡∏î‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 24
                    ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡πà‡∏ô
                  </li>
                  <li>
                    ‚Ä¢ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Craft Only Item ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
                  </li>
                </ul>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  ü™ô Crafing Cost
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ô‡∏∂‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞ Favor
                    ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg">
                  <table class="max-w-full text-sm text-white mx-auto">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          Tier
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ñ‡∏≤‡∏ß‡∏£
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 0-1
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          6
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          12
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 2
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          10
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 3
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          40
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 4
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          30
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          60
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 5
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          40
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          80
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üí° Crafting DC Table:
                </h3>
                <div class="overflow-x-auto rounded-lg shadow-lg">
                  <table class="max-w-full text-sm text-white mx-auto">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          Tier
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Check
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ñ‡∏≤‡∏ß‡∏£
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Check
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 0-1
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          12
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          1
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          14
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          4
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 2
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          14
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          4
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          16
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          8
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 3
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          10
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          22
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 4
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          22
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          26
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          40
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Tier 5
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          25
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          30
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          28
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          50
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- üßÆ Crafting Calculator -->
              <div class="bg-gray-800 rounded-lg p-6 mt-6">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üßÆ Crafting Calculator
                </h3>

                <div class="grid md:grid-cols-4 gap-4">
                  <select id="craftTier" class="p-2 rounded bg-gray-700 text-white">
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Tier</option>
                    <option value="Tier 0">Tier 0</option>
                    <option value="Tier 1">Tier 1</option>
                    <option value="Tier 2">Tier 2</option>
                    <option value="Tier 3">Tier 3</option>
                    <option value="Tier 4">Tier 4</option>
                    <option value="Tier 5">Tier 5</option>
                  </select>

                  <select id="craftType" class="p-2 rounded bg-gray-700 text-white">
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                    <option value="‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á</option>
                    <option value="‡∏ñ‡∏≤‡∏ß‡∏£">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ñ‡∏≤‡∏ß‡∏£</option>
                  </select>

                  <input id="craftPrice" type="number" min="0" step="1" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏° (gp)"
                    class="p-2 rounded bg-gray-700 text-white" />

                  <button id="craftReset" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded">
                    ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤
                  </button>
                </div>

                <div class="grid md:grid-cols-4 gap-4 mt-5 text-gray-200">
                  <div class="bg-gray-900 rounded p-3">
                    <div class="text-sm text-gray-400">Favor ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ</div>
                    <div id="outFavor" class="text-2xl font-bold">‚Äî</div>
                  </div>
                  <div class="bg-gray-900 rounded p-3">
                    <div class="text-sm text-gray-400">DC</div>
                    <div id="outDC" class="text-2xl font-bold">‚Äî</div>
                  </div>
                  <div class="bg-gray-900 rounded p-3">
                    <div class="text-sm text-gray-400">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Check</div>
                    <div id="outChecks" class="text-2xl font-bold">‚Äî</div>
                  </div>
                  <div class="bg-gray-900 rounded p-3">
                    <div class="text-sm text-gray-400">
                      ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏≠‡∏á (‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á)
                    </div>
                    <div id="outGold" class="text-2xl font-bold">‚Äî</div>
                  </div>
                </div>

                <p class="text-xs text-gray-400 mt-3">
                  * ‡∏ó‡∏≠‡∏á = ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å | ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Favor
                  ‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å Crafing Cost | DC ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å Crafting DC Table
                </p>
              </div>
              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üî® Tool Proficiencies Needed
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏° ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Proficiency
                    ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
                    ‡πÇ‡∏î‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg">
                  <table class="max-w-full text-sm text-white mx-auto">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          Tool Proficiencies
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          Stats ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ
                        </th>
                      </tr>
                    </thead>
                    <tbody class="[&>tr>td]:align-top">
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Armor
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Cobbler's, Leatherworker's, Smith's, Tinker's,
                          Weaver's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          STR / DEX
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Adventure Gear
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Carpenter's, Leatherworker's, Smith's, Tinker's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          INT / WIS
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Ammunition
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Smith's, Tinker's, Woodcarver's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          DEX / WIS
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Potion / Poison
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Alchemist's, Brewer's, Herbalist's, Poisoner's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          CON / WIS
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">Ring</td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Glassblower's, Jeweler's, Tinker's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          DEX / CHA
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Scroll
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Calligrapher's, Forgery
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          DEX / INT
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Shield
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Carpenter's, Smith's, Woodcarver's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          STR / CON
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Wand | Rod
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Tinker's, Woodcarver's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          INT / WIS / CHA
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Weapon
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Smith's, Tinker's, Woodcarver's
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          STR / DEX / CON
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Wondrous Item
                        </td>
                        <td class="px-4 py-2 border border-neutral-700 break-words">
                          Any applicable tool
                        </td>
                        <td class="px-4 py-2 border border-neutral-700">
                          INT / CHA
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
                <h3 class="text-xl font-bold text-purple-300 mb-4">
                  üè™ Exalting Vestige of Divergence Magic Item
                </h3>
                <ul class="space-y-2 text-gray-300">
                  <li>
                    ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Vestige of Divergence ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
                    !craft ‡πÇ‡∏î‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏∞‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Check ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Favor
                    ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö DC ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞
                    Arcana ‡∏´‡∏£‡∏∑‡∏≠ Religion ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                  </li>
                  <li>
                    ‚Ä¢
                    ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏à‡∏≤‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô
                    Spell, Class Feature, ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô Prof.
                    bonus, Guidance, Flash of Genius, etc ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
                  </li>
                  <li>
                    ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: !craft vod awakened "Circlet of Barbed
                    Vision" arcana
                  </li>
                  <li>
                    ‚Ä¢ ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Vestige of Divergence - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Awakened ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ
                  </li>
                </ul>
                <div class="overflow-x-auto rounded-lg shadow-lg">
                  <table class="max-w-full text-sm text-white mx-auto">
                    <thead>
                      <tr class="bg-neutral-700">
                        <th class="px-4 py-3 border border-neutral-600 text-left font-bold">
                          &nbsp;
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          DC
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Check
                        </th>
                        <th class="px-4 py-3 border border-neutral-600 text-center font-bold">
                          Favor ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Dormant
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          0
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          0
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          0
                        </td>
                      </tr>
                      <tr class="bg-neutral-900 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Awakened
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          50
                        </td>
                      </tr>
                      <tr class="bg-neutral-800 hover:bg-neutral-700/80">
                        <td class="px-4 py-2 border border-neutral-700">
                          Exalted
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          20
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          50
                        </td>
                        <td class="px-4 py-2 text-center border border-neutral-700">
                          100
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Spells Page -->
        <div id="spells-researchPage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">
              <span class="bg-purple-500/20 p-2 rounded-xl">üîÆ</span>
              <span>Spells Research</span>
            </h2>

            <div class="bg-gray-800 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-bold text-fantasy-purple mb-4">
                üåå ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Drakkenheim Spells
              </h3>
              <p class="text-gray-300 mb-4 indent-4">
                ‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å Drakkenheim ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢ <span
                  class="text-purple-300 font-bold">10 Favor ‡πÅ‡∏•‡∏∞ 100 ‡∏ó‡∏≠‡∏á</span> ‡∏ó‡∏∏‡∏Å‡πÜ 1
                ‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏Å‡πá‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ
              </p>

              <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700 mb-6">
                <h4 class="font-bold text-purple-300 mb-2">üìã ‡πÉ‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å Drakkenheim ‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á?</h4>
                <ul class="space-y-2 text-gray-300 list-disc pl-5">
                  <li>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå Drakkenheim ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏•‡∏≤‡∏™‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏•‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ
                  </li>
                  <li>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏Ç‡∏≠‡∏á Drakkenheim ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏î‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å feat ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å class features, ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏î‡∏¢
                    Wish
                    ‡∏´‡∏£‡∏∑‡∏≠ Mizzium Apparatus</li>
                  <li>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ô‡∏±‡πâ‡∏ô‡πÜ</li>
                  <li>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á Drakkenheim ‡∏ö‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏ó‡∏≥‡πÉ‡∏ô Live
                    Session ‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ DM ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Ñ‡∏ñ‡∏≤‡∏ß‡∏£
                    ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏≠‡∏á‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á spells-reserch ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô</li>
                  <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÑ‡∏î‡πâ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÇ‡∏î‡∏¢ prepare, ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏™‡πà
                    spellbook, ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ñ‡∏•‡∏≤‡∏™‡∏≠‡∏∞‡πÑ‡∏£</li>
                  <li>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ Delirium ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡πà‡∏≤‡∏¢ scrolls ‡πÅ‡∏•‡∏∞ spellwrought tattoos
                    ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ</li>
                </ul>
              </div>

              <h4 class="font-bold text-fantasy-aether mb-4 text-lg border-b border-gray-700 pb-2">
                üìú ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏à‡∏≤‡∏Å Drakkenheim ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î
              </h4>
              <div class="grid md:grid-cols-2 gap-6 text-sm text-gray-300">
                <div>
                  <strong class="text-white block mb-1">1st Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Delirium Orb <span class="text-gray-500">[Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">2nd Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Warp Bolt <span class="text-gray-500">[Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">3rd Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Purge Contamination <span class="text-gray-500">[Bard, Cleric, Druid, Paladin, Ranger, Sorcerer,
                        Warlock, Wizard]</span></li>
                    <li>Ride the Rifts <span class="text-gray-500">[Bard, Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">4th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Delirium Blast <span class="text-gray-500">[Bard, Sorcerer, Warlock, Wizard]</span></li>
                    <li>Forced Evolution <span class="text-gray-500">[Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">5th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Conjure the Deep Haze <span class="text-gray-500">[Druid, Sorcerer, Warlock, Wizard]</span></li>
                    <li>Neutralizing Field <span class="text-orange-400 text-xs block">(‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î: ‡∏ï‡πâ‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤ Purge
                        Contamination ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á Aqua Expurgo ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏≠‡∏±‡∏ô)</span> <span
                        class="text-gray-500">[Bard,
                        Cleric, Druid, Paladin, Ranger, Sorcerer, Warlock, Wizard]</span></li>
                  </ul>
                </div>
                <div>
                  <strong class="text-white block mb-1">6th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Ray of Contamination <span class="text-gray-500">[Druid, Sorcerer, Warlock, Wizard]</span></li>
                    <li>Siphon Contamination <span class="text-orange-400 text-xs block">(‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î: ‡∏ï‡πâ‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤ Forced
                        Evolution ‡πÅ‡∏•‡∏∞ Neutralizing Field ‡∏Å‡πà‡∏≠‡∏ô ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏´‡πá‡∏ô Monstrous Transformation
                        ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô)</span>
                      <span class="text-gray-500">[Sorcerer, Warlock, Wizard]</span>
                    </li>
                  </ul>

                  <strong class="text-white block mb-1">7th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Contamination Immunity <span class="text-orange-400 text-xs block">(‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î: ‡∏ï‡πâ‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤
                        Neutralizing Field ‡∏Å‡πà‡∏≠‡∏ô)</span> <span class="text-gray-500">[Bard, Cleric, Druid, Sorcerer,
                        Warlock, Wizard]</span></li>
                    <li>Octarine Spray <span class="text-gray-500">[Bard, Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">8th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Contaminated Power <span class="text-orange-400 text-xs block">(‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î: ‡∏ï‡πâ‡∏≠‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏ß‡∏ó‡∏¢‡πå
                        contamination ‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏¢‡∏£‡πà‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏≠‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</span> <span
                        class="text-gray-500">[Sorcerer, Warlock, Wizard]</span></li>
                  </ul>

                  <strong class="text-white block mb-1">9th Level:</strong>
                  <ul class="list-disc pl-5 mb-2">
                    <li>Sacrament of the Falling Fire <span class="text-orange-400 text-xs block">(‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏ô Live
                        Session)</span> <span class="text-gray-500">[Bard, Cleric, Druid, Warlock]</span></li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bg-gray-800 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-bold text-fantasy-aether mb-4">
                ‚è≥ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Dunamancy Spells
              </h3>
              <div class="space-y-4 text-gray-300">
                <ul class="list-disc pl-5 space-y-1">
                  <li>Dunamancy ‡∏ô‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏Ç‡∏≠‡∏á Wizard ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏™‡∏≤‡∏¢ <strong>Chronurgy</strong> ‡∏Å‡∏±‡∏ö
                    <strong>Graviturgy</strong> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡πÅ‡∏•‡∏∞ Favor
                  </li>
                  <li>Dunamancy ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≤‡∏Å feats ‡∏´‡∏£‡∏∑‡∏≠ class features ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡πÅ‡∏•‡∏∞ Favor</li>
                  <li>Sorcerers, Bards, Warlocks, Rangers, Druids, Clerics, Artificers, Paladins, Arcane Trickster
                    Rogues,
                    Eldritch Knights, Profane Soul Blood hunters, ‡πÅ‡∏•‡∏∞ Heretic Jaeger ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Dunamancy
                    ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ</li>
                </ul>

                <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
                  <h4 class="font-bold text-purple-300 mb-2">üìã ‡πÉ‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Dunamancy Spells ‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á?</h4>
                  <ul class="list-disc pl-5 space-y-1">
                    <li>Dunamancy spells ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢ <span class="text-fantasy-gold">5 Favor ‡πÅ‡∏•‡∏∞ 50
                        ‡∏ó‡∏≠‡∏á</span> ‡∏ó‡∏∏‡∏Å‡πÜ 1 ‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô Wizard ‡∏™‡∏≤‡∏¢ Chronurgy ‡πÅ‡∏•‡∏∞ Graviturgy</li>
                    <li>‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏ß‡∏ó‡∏¢‡πå Cantrip</li>
                    <li>‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ <strong>Intelligence check</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Dunamancy spell ‡πÇ‡∏î‡∏¢ <strong>DC
                        ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà 10+‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</strong> ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™ +1 ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° 100gp
                      ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà +6</li>
                  </ul>
                </div>

                <div>
                  <h4 class="font-bold text-purple-300 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏ó‡∏¢‡πå Dunamancy:</h4>
                  <p class="mb-2">‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏™‡∏≤‡∏¢‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏•‡∏≤‡∏™:</p>
                  <ul class="list-disc pl-5 space-y-1 text-sm">
                    <li><strong>Wizard:</strong> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡πÉ‡∏ô Spellbook</li>
                    <li><strong>Known Caster:</strong> (Sorcerer, Warlock, Bard, Ranger, Arcane Tricksters Rogue,
                      Eldritch
                      Knights Fighter, Profane Soul Blood hunters, ‡πÅ‡∏•‡∏∞ Heretic Jaeger) ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ
                    </li>
                    <li><strong>Prepared Caster:</strong> (Artificer, Druid, Cleric, Paladin)
                      ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡πÉ‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ</li>
                    <li><strong>Warlocks:</strong> ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà Mystic Arcanum ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡πÄ‡∏•‡πÄ‡∏ß‡∏• 6, 7, 8 ‡πÅ‡∏•‡∏∞ 9
                      ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ</li>
                  </ul>
                  <p class="text-xs text-gray-400 mt-2">*‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô Dunamancy spell ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ spell scrolls
                    ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡πà‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥</p>
                </div>
              </div>
            </div>

            <div class="bg-gray-800 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-bold text-fantasy-emerald mb-4">
                üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Known Caster
              </h3>
              <p class="text-gray-300 mb-4">
                ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏≠‡∏±‡∏û (Sorcerer, Warlock,
                Bard, Ranger, Arcane Tricksters Rogue, Eldritch Knights Fighter, Profane Soul Blood hunters, ‡πÅ‡∏•‡∏∞ Heretic
                Jaeger) ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏à‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏ó‡∏ô ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Favor
                ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Favor ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ô‡∏±‡πâ‡∏ô‡πÜ
              </p>

              <div class="overflow-x-auto rounded-lg shadow-lg w-fit mx-auto my-8">
                <table class="text-sm text-white border-collapse">
                  <thead>
                    <tr class="bg-neutral-700">
                      <th class="px-6 py-2 border border-neutral-600 text-left font-bold">Level</th>
                      <th class="px-6 py-2 border border-neutral-600 text-center font-bold">Favor Cost</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Cantrips</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">25</td>
                    </tr>
                    <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 1</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">10</td>
                    </tr>
                    <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 2</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">20</td>
                    </tr>
                    <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 3</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">30</td>
                    </tr>
                    <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 4</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">40</td>
                    </tr>
                    <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 5</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">50</td>
                    </tr>
                    <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 6</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">65</td>
                    </tr>
                    <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 7</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">80</td>
                    </tr>
                    <tr class="bg-neutral-800 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 8</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">95</td>
                    </tr>
                    <tr class="bg-neutral-900 hover:bg-neutral-700/80 transition duration-150 ease-in-out">
                      <td class="px-6 py-2 border border-neutral-700">Level 9</td>
                      <td class="px-6 py-2 text-center border border-neutral-700">110</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="bg-red-900/30 border border-red-800 rounded p-4 text-gray-300 text-sm">
                <strong>üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:</strong> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á <code>spells-reserch</code> ‡πÇ‡∏î‡∏¢‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£,
                ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å, ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Favor ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÉ‡∏ôThe Spire
                Tracking<br>
                <span class="text-fantasy-red">*‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ 1
                  ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà 3 ‡∏≠‡∏±‡∏ô</span>
              </div>
            </div>

            <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700">
              <h3 class="text-2xl font-bold text-blue-400 mb-4">
                üìò ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Wizard
              </h3>

              <div class="space-y-4 text-gray-300">
                <div>
                  <h4 class="font-bold text-fantasy-gold">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏•‡∏á Spellbook:</h4>
                  <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏û‡∏ö‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á Wizard ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏•‡πÄ‡∏ß‡∏• 1 ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏•‡∏á
                    Spellbook ‡∏Ç‡∏≠‡∏á‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ó‡∏∏‡∏Å 1 ‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ <span
                      class="text-fantasy-gold">5 Favor ‡πÅ‡∏•‡∏∞‡∏ó‡∏≠‡∏á 50gp</span> (‡∏ó‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏î‡∏•‡∏á‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ô‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ)</p>
                </div>

                <div class="grid md:grid-cols-2 gap-4">
                  <div class="bg-gray-900/50 p-3 rounded border border-gray-700">
                    <h5 class="font-bold text-white mb-1">üìú ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Spell Scroll:</h5>
                    <p class="text-sm">‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á Wizard ‡∏à‡∏≤‡∏Å spell scroll ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥
                      <strong>Intelligence (Arcana) check</strong> ‡∏î‡πâ‡∏ß‡∏¢ <strong>DC ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö 10 +
                        ‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏ô‡∏±‡πâ‡∏ô‡πÜ</strong> ‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÉ‡∏ô Spellbook ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏™‡πà‡∏ß‡∏ô spell scroll
                      ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
                    </p>
                  </div>
                  <div class="bg-gray-900/50 p-3 rounded border border-gray-700">
                    <h5 class="font-bold text-white mb-1">üìñ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Spellbook ‡πÄ‡∏•‡πà‡∏°‡∏≠‡∏∑‡πà‡∏ô:</h5>
                    <p class="text-sm">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å spell scroll <strong>‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ Intelligence
                        (Arcana) check</strong></p>
                  </div>
                </div>

                <div class="bg-gray-700/50 p-4 rounded border-l-4 border-fantasy-gold">
                  <strong class="text-white">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong><br>
                  ‡∏™‡∏°‡∏£‡∏±‡∏Å ‡∏ú‡∏ô‡∏∂‡∏Å‡∏°‡∏≤‡∏£ ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å Spellbook ‡∏Ç‡∏≠‡∏á ‡∏™‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡∏°‡∏´‡∏≤‡πÄ‡∏ß‡∏ó‡∏¢‡πå<br>
                  <span class="text-green-400">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:</span> 350gp + 30 Favor<br>
                  <span class="text-green-400">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</span> ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡∏°‡∏ô‡∏ï‡πå‡πÄ‡∏•‡πÄ‡∏ß‡∏• 1 ‡πÅ‡∏•‡∏∞ 2 (detect magic, identify,
                  comprehend languages, catapult, augury, detect thoughts, mind spike)
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- Items Page -->
        <div id="itemsPage" class="page-content hidden">
          <div class="bg-black bg-opacity-50 rounded-xl p-4 backdrop-blur-sm">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">
              <span class="bg-red-500/20 p-2 rounded-xl">‚öîÔ∏è</span>
              <span>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
            </h2>
            <p class="text-gray-300 mb-4 text-center">
              * ‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
              ‡∏ó‡∏∏‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ô‡∏∂‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô<br />
              * ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÅ‡∏ö‡∏ö
              Homebrew<br />
              * ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏î‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà
              <a class="text-fantasy-gold">Staff</a>
            </p>

            <div id="itemsPageFilters">
              <!-- Filters -->
              <div class="mb-6 flex flex-wrap gap-3 p-4 bg-gray-800 rounded-lg shadow-xl items-center">
                <div class="w-full sm:w-1/2 md:w-1/3 lg:flex-grow order-1">
                  <label for="searchFilter" class="sr-only">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</label>
                  <div class="relative">
                    <input type="text" id="searchFilter" placeholder="üîé‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°..."
                      class="w-full p-2 pl-10 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out" />
                  </div>
                </div>

                <div class="flex flex-wrap gap-3 order-2 w-full md:w-auto">
                  <select id="tierFilter"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">‚ú®‡∏ó‡∏∏‡∏Å Tier</option>
                    <option value="Tier 0">Tier 0</option>
                    <option value="Tier 1">Tier 1</option>
                    <option value="Tier 2">Tier 2</option>
                    <option value="Tier 3">Tier 3</option>
                    <option value="Tier 4">Tier 4</option>
                    <option value="Tier 5">Tier 5</option>
                    <option value="Mundane Item">Mundane Item</option>
                  </select>

                  <select id="rarityFilter"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">üíé‡∏ó‡∏∏‡∏Å Rarity</option>
                    <option value="Common">Common</option>
                    <option value="Uncommon">Uncommon</option>
                    <option value="Rare">Rare</option>
                    <option value="Very Rare">Very Rare</option>
                    <option value="Legendary">Legendary</option>
                    <option value="Artifact">Artifact</option>
                    <option value="Mundane">Mundane</option>
                  </select>
                </div>

                <div class="flex flex-wrap gap-3 order-3 w-full md:w-auto">
                  <select id="typeFilter"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">üè∑Ô∏è‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                    <option value="Adventuring Gear">Adventuring Gear</option>
                    <option value="Ammunition">Ammunition</option>
                    <option value="Armor">Armor</option>
                    <option value="Boon">Boon</option>
                    <option value="Craft Only Item">Craft Only Item</option>
                    <option value="Gemstone">Gemstone</option>
                    <option value="Generic Variant">Generic Variant</option>
                    <option value="Illegal Drug">Illegal Drug</option>
                    <option value="Other">Other</option>
                    <option value="Potion">Potion</option>
                    <option value="Healing Potion">Healing Potion</option>
                    <option value="Poison">Poison</option>
                    <option value="Ring">Ring</option>
                    <option value="Scroll">Scroll</option>
                    <option value="Spell Components">Spell Components</option>
                    <option value="Spell Scroll">Spell Scroll</option>
                    <option value="Shield">Shield</option>
                    <option value="Weapon,">Weapon</option>
                    <option value="Rod">Weapon, Rod</option>
                    <option value="Wand">Weapon, Wand</option>
                    <option value="Wondrous Item">Wondrous Item</option>
                    <option value="Wondrous item (Tattoo)">Wondrous Item, Tattoo
                    </option>
                  </select>

                  <select id="attuneFilter"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">üîóAttunement</option>
                    <option value="Yes">‡∏ï‡πâ‡∏≠‡∏á Attune</option>
                    <option value="No">‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Attune</option>
                  </select>

                  <select id="PerDisFilter"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">‚ôªÔ∏è‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</option>
                    <option value="‡∏ñ‡∏≤‡∏ß‡∏£">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ñ‡∏≤‡∏ß‡∏£</option>
                    <option value="‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á</option>
                  </select>
                </div>

                <div class="flex flex-wrap gap-3 order-4 ml-0 md:ml-auto">
                  <select id="sortPrice"
                    class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 appearance-none pr-8 cursor-pointer focus:ring-1 focus:ring-blue-500">
                    <option value="">üí∏‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤</option>
                    <option value="asc">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î ‚Üí ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</option>
                    <option value="desc">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‚Üí ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Bulk actions -->
            <div id="bulkActions" class="flex items-center gap-3 mt-3">
              <button id="copySelectedBtn"
                class="bg-fantasy-gold text-black px-3 py-2 rounded font-bold hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed hidden md:table-cell"
                disabled>
                ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏õ Discord
              </button>

              <button id="clearSelectionBtn"
                class="bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded font-semibold hidden md:table-cell">
                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
              </button>

              <button id="addToCartBtn"
                class="bg-emerald-500 text-black px-3 py-2 rounded font-bold hover:bg-emerald-400 disabled:opacity-50 disabled:cursor-not-allowed hidden md:table-cell"
                disabled>
                ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
              </button>

              <button id="openCartModalBtn"
                class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg font-semibold transition-all hover:scale-105">
                üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                <span id="cartBadge" class="ml-1 text-xs bg-fantasy-gold text-black px-2 py-0.5 rounded hidden">0</span>
              </button>

              <span id="selectedCount" class="text-xs text-gray-400 hidden md:table-cell">(0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</span>

              <button id="dmShopBtn"
                class="bg-fantasy-purple ml-auto text-white px-3 py-2 rounded font-bold hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed hidden md:table-cell">
                üè™ DM Shop Session
              </button>
            </div>

            <!-- Items List -->
            <div id="itemsList" class="scroll-container">
              <div class="text-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-fantasy-gold mx-auto mb-4"></div>
                <p class="text-gray-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
              </div>
            </div>
            <div id="paginationBottom" class="flex justify-center mt-4 pb-8"></div>
          </div>
        </div>

        <!-- Updates Page -->
        <div id="updatesPage" class="page-content hidden">
          <div class="bg-black glass-panel rounded-2xl p-8">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">
              <span class="bg-gray-500 p-2 rounded-xl">üì∞</span>
              <span>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</span>
            </h2>
            <div id="updatesList" class="scroll-container">
              <div class="text-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-fantasy-gold mx-auto mb-4"></div>
                <p class="text-gray-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
              </div>
            </div>
          </div>
        </div>

        <div id="cartModal"
          class="fixed inset-0 bg-black/90 hidden z-50 flex items-center justify-center p-4 backdrop-blur-sm">
          <div
            class="glass-panel bg-gray-900 w-full max-w-4xl rounded-2xl border border-gray-700 shadow-2xl flex flex-col max-h-[90vh]">

            <div class="px-6 py-4 border-b border-gray-700 flex justify-between items-center bg-black/40 rounded-t-2xl">
              <div class="flex items-center gap-3">
                <h3 class="text-2xl font-bold text-white flex items-center gap-2">
                  <span class="text-purple-400">üõí</span> ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </h3>
                <button id="addSellItemBtn"
                  class="bg-emerald-600 text-white px-3 py-1.5 rounded-lg font-bold hover:bg-emerald-500 transition-colors shadow-lg shadow-emerald-900/20 text-sm flex items-center gap-1">
                  üí∞ ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á
                </button>
              </div>
              <button id="closeCartModalBtn"
                class="bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-red-900/50 transition-all hover:scale-110">
                &times;
              </button>
            </div>

            <div class="flex-1 overflow-y-auto p-4 sm:p-6 bg-gray-800/50">

              <div id="cartEmpty" class="text-center py-10 text-gray-400">
                <div class="text-4xl mb-2">üï∏Ô∏è</div>
                <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
              </div>

              <div id="cartTable" class="hidden rounded-lg overflow-hidden border border-gray-700">
                <div class="overflow-x-auto">
                  <table class="w-full text-sm text-left">
                    <thead class="bg-gray-900 text-fantasy-gold uppercase text-xs">
                      <tr>
                        <th class="px-4 py-3 min-w-[150px]">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                        <th class="px-4 py-3">‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</th>
                        <th class="px-4 py-3 text-right whitespace-nowrap">‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏ä‡∏¥‡πâ‡∏ô</th>
                        <th class="px-4 py-3 text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                        <th class="px-4 py-3 text-right">‡∏£‡∏ß‡∏°</th>
                        <th class="px-2 py-3"></th>
                      </tr>
                    </thead>
                    <tbody id="cartBody" class="bg-gray-800 divide-y divide-gray-700 text-gray-200">
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div id="cartFooter"
              class="hidden px-6 py-4 border-t border-gray-700 bg-black/40 rounded-b-xl flex flex-col sm:flex-row items-center justify-between gap-4">
              <div class="text-lg font-semibold text-white">
                ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:
                <span id="cartTotalSign" class="text-2xl font-bold tabular-nums"></span>
                <span id="cartTotal" class="text-2xl font-bold tabular-nums">0</span>
                <span class="text-sm text-gray-400">gp</span>
              </div>

              <div class="flex gap-2 w-full sm:w-auto flex-wrap">
                <button id="copyCartEmbedBtn"
                  class="flex-1 sm:flex-none bg-fantasy-gold text-black px-6 py-2 rounded-lg font-bold hover:bg-yellow-400 transition-colors shadow-lg shadow-yellow-900/20">
                  ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÉ‡∏ö‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢
                </button>
                <button id="clearCartBtn"
                  class="flex-1 sm:flex-none bg-red-900/30 hover:bg-red-900/50 text-red-300 border border-red-900/50 px-4 py-2 rounded-lg font-semibold transition-colors">
                  ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="mt-16 text-center text-xs text-gray-600 mb-8 border-t border-gray-800 pt-8">
      <p>&copy; üè™ The Spire Market | Created by aKittyCatüêà. All rights reserved.</p>
    </footer>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminModal" class="fixed inset-0 bg-black/90 hidden z-50 flex items-center justify-center backdrop-blur-sm">
    <div class="glass-panel bg-gray-900 border border-gray-700 p-8 rounded-2xl max-w-md w-full mx-4 shadow-2xl">
      <h3 class="text-2xl font-bold text-white mb-6 text-center flex items-center justify-center gap-2">
        <span class="text-purple-400">üîê</span> Admin Login
      </h3>
      <form id="adminLoginForm">
        <input type="password" id="adminPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô Admin"
          class="w-full p-3 rounded-xl bg-gray-800 border border-gray-700 text-white mb-4 focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition"
          required />
        <div class="flex gap-4">
          <button type="submit"
            class="flex-1 bg-purple-600 hover:bg-purple-500 text-white py-2.5 rounded-xl font-bold shadow-lg shadow-purple-500/20 transition-all">
            ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
          </button>
          <button type="button" id="cancelAdmin"
            class="flex-1 bg-gray-700 text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-600 transition-colors">
            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Generic Variant Picker Modal -->
  <div id="gvModal" class="fixed inset-0 bg-black/90 hidden z-50 backdrop-blur-sm">
    <div class="absolute inset-0 flex items-center justify-center p-2 sm:p-4">
      <div
        class="glass-panel bg-gray-900 w-full max-w-2xl rounded-2xl border border-gray-700 shadow-2xl flex flex-col max-h-[90vh]">
        <div class="px-4 py-3 sm:px-5 sm:py-4 border-b border-gray-700 flex flex-col sm:flex-row sm:items-center gap-3">
          <div class="flex justify-between items-center w-full sm:w-auto">
            <h3 class="text-lg sm:text-xl font-bold text-white" id="gvTitle">
              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
            </h3>
            <button id="gvCloseMobile"
              class="sm:hidden px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm text-white">
              ‡∏õ‡∏¥‡∏î
            </button>
          </div>
          <input id="gvSearch" type="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..."
            class="w-full sm:ml-auto sm:w-56 p-2 rounded-xl bg-gray-800 border border-gray-700 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500" />
          <button id="gvClose"
            class="hidden sm:block px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-white text-sm">
            ‡∏õ‡∏¥‡∏î
          </button>
        </div>
        <div class="flex-1 overflow-y-auto min-h-0 p-2 sm:p-0" id="gvList">
        </div>
        <div class="px-4 py-3 sm:px-5 border-t border-gray-700 text-right text-gray-400 text-xs sm:text-sm">
          * ‡∏£‡∏≤‡∏Ñ‡∏≤ = ‡∏£‡∏≤‡∏Ñ‡∏≤ Generic Variant + ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
        </div>
      </div>
    </div>
  </div>

  <!-- Gemstone Picker Modal -->
  <div id="gemModal" class="fixed inset-0 bg-black/70 hidden z-50">
    <div class="absolute inset-0 flex items-center justify-center p-2 sm:p-4">
      <div
        class="bg-gray-800 w-full max-w-2xl rounded-xl border-2 border-fantasy-gold shadow-2xl flex flex-col max-h-[90vh]">
        <div class="px-4 py-3 sm:px-5 sm:py-4 border-b border-gray-700 flex flex-col sm:flex-row sm:items-center gap-3">
          <div class="flex justify-between items-center w-full sm:w-auto">
            <h3 class="fantasy-font text-lg sm:text-xl font-bold text-fantasy-gold" id="gemTitle">
              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ
            </h3>
            <button id="gemCloseMobile"
              class="sm:hidden px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 text-sm text-white">
              ‡∏õ‡∏¥‡∏î
            </button>
          </div>
          <input id="gemSearch" type="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ..."
            class="w-full sm:ml-auto sm:w-56 p-2 rounded bg-gray-700 text-white text-sm focus:outline-none focus:ring-1 focus:ring-fantasy-gold" />
          <button id="gemClose"
            class="hidden sm:block px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 text-white text-sm">
            ‡∏õ‡∏¥‡∏î
          </button>
        </div>
        <div class="px-4 py-2 sm:px-5 text-sm text-gray-300 flex flex-wrap items-center gap-2 bg-gray-800/50">
          <span class="whitespace-nowrap">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ (worth):</span>
          <div class="flex items-center gap-2 flex-grow sm:flex-grow-0">
            <input id="gemWorth" type="number" inputmode="numeric" value="100"
              class="w-20 sm:w-28 text-right bg-gray-700 text-white rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-fantasy-gold" />
            <span class="whitespace-nowrap">gp √ó ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì</span>
          </div>
        </div>

        <div class="flex-1 overflow-y-auto min-h-0 p-2 sm:p-0" id="gemList">
        </div>

        <div class="px-4 py-3 sm:px-5 border-t border-gray-700 text-right text-red-400 text-xs sm:text-sm">
          *‡πÉ‡∏™‡πà‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
        </div>
      </div>
    </div>
  </div>

  <!-- Sell Item Modal -->
  <div id="sellItemModal"
    class="fixed inset-0 bg-black/90 hidden z-50 flex items-center justify-center p-4 backdrop-blur-sm">
    <div class="glass-panel bg-gray-900 w-full max-w-md rounded-2xl border border-gray-700 shadow-2xl">
      <div class="px-6 py-4 border-b border-gray-700 flex justify-between items-center bg-black/40 rounded-t-2xl">
        <h3 class="text-xl font-bold text-white flex items-center gap-2">
          <span class="text-emerald-400">üí∞</span> ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á
        </h3>
        <button id="closeSellItemModalBtn"
          class="bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-red-900/50 transition-all hover:scale-110">
          &times;
        </button>
      </div>
      <form id="sellItemForm" class="p-6 space-y-4">
        <div>
          <label class="block text-gray-300 mb-2 text-sm font-medium">‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</label>
          <input type="text" id="sellItemName" placeholder="‡πÄ‡∏ä‡πà‡∏ô Ring ‡∏ó‡∏î‡∏™‡∏≠‡∏ö"
            class="w-full p-3 rounded-xl bg-gray-800 border border-gray-700 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition"
            required />
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-gray-300 mb-2 text-sm font-medium">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
            <input type="number" id="sellItemQty" min="1" value="1" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"
              class="w-full p-3 rounded-xl bg-gray-800 border border-gray-700 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition"
              required />
          </div>
          <div>
            <label class="block text-gray-300 mb-2 text-sm font-medium">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏° (gp)</label>
            <input type="number" id="sellItemPrice" min="0" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤"
              class="w-full p-3 rounded-xl bg-gray-800 border border-gray-700 text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition"
              required />
          </div>
        </div>
        <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
          <p class="text-gray-400 text-sm">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢ = ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏° √∑ 2</p>
          <p class="text-emerald-400 text-lg font-bold mt-1">
            ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢: <span id="sellItemPreview">0</span> gp
          </p>
        </div>
        <button type="submit"
          class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-xl font-bold shadow-lg shadow-emerald-500/20 transition-all">
          ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        </button>
      </form>
    </div>
  </div>

  <!-- Buy/Sell Choice Popup -->
  <div id="buySellPopup" class="fixed z-[60] hidden">
    <div class="bg-gray-900 border border-gray-600 rounded-xl shadow-2xl p-2 flex gap-2">
      <button id="popupBuyBtn"
        class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-1 text-sm transition-colors">
        üõí ‡∏ã‡∏∑‡πâ‡∏≠
      </button>
      <button id="popupSellBtn"
        class="bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-1 text-sm transition-colors">
        üí∞ ‡∏Ç‡∏≤‡∏¢
      </button>
    </div>
  </div>

  <!-- Pet Modal -->
  <div id="petModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4">
    <div
      class="bg-gray-900 rounded-lg p-6 w-full max-w-sm sm:max-w-lg md:max-w-3xl max-h-[90vh] overflow-y-auto mx-auto shadow-2xl">
      <div id="mainStep" class="space-y-4">
        <div class="flex justify-between items-center mb-4">
          <h4 class="text-2xl font-bold text-white">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</h4>
          <button id="closeModalBtn"
            class="bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-red-900/50 transition-all hover:scale-110">
            &times;
          </button>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div>
            <label class="block text-white mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Tier</label>
            <select id="tierSelect"
              class="w-full p-2 rounded bg-gray-800 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500">
              <option value="1">Tier 1</option>
              <option value="2">Tier 2</option>
              <option value="3">Tier 3</option>
              <option value="4">Tier 4</option>
              <option value="5">Tier 5</option>
            </select>
          </div>

          <div>
            <label class="block text-white mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å CR</label>
            <select id="crSelect"
              class="w-full p-2 rounded bg-gray-800 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500"
              disabled>
              <option value="">-- ‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Tier ‡∏Å‡πà‡∏≠‡∏ô --</option>
            </select>
          </div>

          <div>
            <label class="block text-white mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</label>
            <select id="petSelect"
              class="w-full p-2 rounded bg-gray-800 text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500"
              disabled>
              <option value="">-- ‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å CR ‡∏Å‡πà‡∏≠‡∏ô --</option>
            </select>
          </div>
        </div>

        <div id="petImageContainer" class="flex justify-center flex-col items-center">
          <img id="petImage"
            class="rounded-lg border border-gray-700 w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg h-auto object-contain cursor-pointer hover:opacity-90 transition-opacity hidden"
            alt="Pet image">
          <p class="text-center text-sm text-gray-500 mt-1">‡∏Ñ‡∏•‡∏¥‡πâ‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏π‡∏õ</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 pt-2">
          <div class="md:col-span-1">
            <button id="buyBtn" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded transition"
              disabled>‡∏ã‡∏∑‡πâ‡∏≠</button>
            <div id="buyPreview" class="text-green-400 text-sm min-h-[20px] px-2 mt-1 text-center"></div>
          </div>

          <div class="md:col-span-1">
            <button id="changeBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition"
              disabled>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</button>
            <div id="changePreview" class="text-blue-400 text-sm min-h-[20px] px-2 mt-1 text-center"></div>
          </div>

          <div class="md:col-span-1">
            <button id="trainBtn" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded transition"
              disabled>‡∏ù‡∏∂‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</button>
          </div>
        </div>
      </div>

      <div id="trainStep" class="space-y-4 hidden">
        <div class="flex justify-between items-center mb-4">
          <h4 class="text-2xl font-bold text-white">‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÉ‡∏´‡πâ <span id="trainPetName" class="text-purple-300"></span>
          </h4>
          <button id="backToMainBtn" class="text-gray-400 hover:text-white text-3xl font-extrabold">&larr;</button>
        </div>

        <p class="text-gray-300 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÑ‡∏î‡πâ 1‚Äì3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏•‡∏∞ 25 Favor)</p>

        <div id="skillsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 pt-2"></div>
        <div id="trainPreview"
          class="text-purple-400 text-sm min-h-[20px] py-2 px-3 bg-gray-800 rounded mb-2 border border-gray-700">
        </div>
        <div class="pt-2">
          <button id="confirmTrainBtn"
            class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded transition">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å</button>
        </div>
      </div>
    </div>
  </div>
  <div id="imageLightbox" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 hidden">
    <div class="relative max-w-full max-h-full p-4">
      <button id="closeLightboxBtn"
        class="absolute -top-12 right-0 bg-red-600 hover:bg-red-700 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold shadow-lg shadow-red-900/50 transition-all hover:scale-110"
        aria-label="Close Image">
        &times;
      </button>
      <img id="lightboxImage" class="rounded-lg max-h-[85vh] max-w-[95vw] object-contain shadow-2xl" alt="Enlarged pet">
    </div>
  </div>

  <script src="./gv-allowed.js"></script>
  <script src="./gem-allowed.js"></script>
  <script src="./select-rules.js"></script>
  <script src="./cart.js"></script>
  <script src="./dm-shop.js"></script>
  <script src="./pet.js"></script>
  <script src="./pic.js"></script>
  <script>
    // === Configuration ===
    const GOOGLE_SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbwqFqqB0SNWDls42z9mYMrixFLC8ZevuXvZDwBq8MISUha-mRtC-vFX9B81Gkvrble-/exec";

    // === Browser cache (SWR) ===
    const CACHE = {
      items: "spire.items.v1",
      updates: "spire.updates.v1",
    };
    const TTL = { items: 60_000, updates: 60_000 }; // 2 * 60_000 : 2 ‡∏ô‡∏≤‡∏ó‡∏µ

    const now = () => Date.now();

    function readCache(key) {
      try {
        const raw = localStorage.getItem(key);
        if (!raw) return null;
        const obj = JSON.parse(raw);
        if (!obj || !obj.data || !obj.exp) return null;
        if (obj.exp < now()) return null; // ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ -> ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ
        return obj.data;
      } catch {
        return null;
      }
    }

    function writeCache(key, data, ttlMs) {
      try {
        localStorage.setItem(
          key,
          JSON.stringify({ data, exp: now() + ttlMs })
        );
      } catch { }
    }

    async function fetchJSON(url, { signal } = {}) {
      const res = await fetch(url, { signal, cache: "no-store" });
      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      const txt = await res.text();
      try {
        return JSON.parse(txt);
      } catch (e) {
        console.error("Non-JSON from server:", txt.slice(0, 200));
        throw e;
      }
    }

    // === Helper: ‡∏ï‡∏±‡∏î‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡∏≠‡∏á Google ===
    function unwrapGoogleRedirect(url) {
      if (!url) return "";
      try {
        const u = new URL(url);
        if (
          (u.hostname === "www.google.com" || u.hostname === "google.com") &&
          u.pathname === "/url"
        ) {
          const real = u.searchParams.get("q") || u.searchParams.get("url");
          return real || url;
        }
        return url;
      } catch {
        return url;
      }
    }

    // === Global state ===
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡∏ô‡∏¥‡∏î (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ type ‡∏≠‡∏¢‡πà‡∏≤‡∏á "Weapon,", "Weapon, Rod", ‡πÅ‡∏•‡∏∞ "Shield")
    function isWeapon(it) {
      return (
        /\bweapon\b/i.test(it.type || "") ||
        /\bwand\b/i.test(it.type || "") ||
        /\brod\b/i.test(it.type || "")
      );
    }
    function isArmor(it) {
      return /\barmor\b/i.test(it.type || "");
    }

    // ===== Generic Variant state =====
    const gvMap = new Map(); // itemId -> {kind:'weapon'|'armor', id, name, price}

    // ‡πÄ‡∏õ‡πá‡∏ô Generic Variant ‡πÑ‡∏´‡∏°? (type ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤)
    function isGenericVariant(it) {
      return /\bgeneric variant\b/i.test(it.type || "");
    }

    // ‡πÄ‡∏î‡∏≤ kind ‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠ (‡∏ñ‡πâ‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ß‡πà‡∏≤ Armor/Shield ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô armor, ‡∏ô‡∏≠‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô weapon)
    function guessGVKind(it) {
      const n = it.name || "";
      if (/\barmor|shield\b/i.test(n)) return "armor";
      return "weapon";
    }

    // ‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏µ‡∏¢‡πå variant ‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
    function getVariantKey(item) {
      const raw = String(item?.name || "").trim();
      const lower = raw.toLowerCase();

      // 1) ‡∏à‡∏±‡∏ö +N ‡πÄ‡∏ä‡πà‡∏ô "Weapon +2", "Armor+3", "Shield +1"
      const m = lower.match(/^(weapon|armor|shield)\s*\+(\d+)\b/);
      if (m) return `${m[1]}+${m[2]}`;

      // 2) ‡πÅ‡∏õ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô slug ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö GV_ALLOWED
      //    - ‡∏•‡∏ö apostrophe
      //    - ‡∏ö‡∏µ‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ +
      //    - ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏∑‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ '-'
      const slug = lower
        .replace(/['‚Äô]/g, "")
        .replace(/\s*\+\s*(\d+)/g, "+$1")
        .replace(/[^a-z0-9+]+/g, "-")
        .replace(/^-+|-+$/g, "");

      if (window.GV_ALLOWED && window.GV_ALLOWED[slug]) return slug;

      return null;
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∏‡∏î base item ‡∏à‡∏≤‡∏Å currentItems (‡πÑ‡∏°‡πà‡∏¢‡∏¥‡∏á GAS)
    function getBaseCandidatesForVariant(item) {
      const key = getVariantKey(item);
      const all = (currentItems || []).filter((b) => !isGenericVariant(b));

      // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ï‡∏≤‡∏°‡∏Ñ‡∏µ‡∏¢‡πå‡πÉ‡∏ô GV_ALLOWED ‚Üí ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏
      if (key && window.GV_ALLOWED && window.GV_ALLOWED[key]) {
        const spec = window.GV_ALLOWED[key];
        const allowed = spec.list; // Set(lowercase)
        return all
          .filter((b) => {
            // ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° weapon/armor ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á kind ‡∏Å‡πà‡∏≠‡∏ô
            const isW =
              /\bweapon\b/i.test(b.type || "") ||
              /\bwand|rod\b/i.test(b.type || "");
            const isA = /\barmor|shield\b/i.test(b.type || "");
            if (spec.kind === "weapon" && !isW) return false;
            if (spec.kind === "armor" && !isA) return false;
            // ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏±‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
            return allowed.has(String(b.name).toLowerCase());
          })
          .map((b) => ({
            id: b.id,
            name: b.name,
            price: Number(parsePrice(b.price)) || 0,
            resultName:
              typeof spec.makeName === "function"
                ? spec.makeName(b.name)
                : b.name,
          }))
          .sort((a, b) => a.name.localeCompare(b.name));
      }

      // fallback: ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
      const kind = guessGVKind(item);
      const isW = (t) =>
        /\bweapon\b/i.test(t || "") || /\bwand|rod\b/i.test(t || "");
      const isA = (t) => /\barmor|shield\b/i.test(t || "");
      return all
        .filter((b) => (kind === "weapon" ? isW(b.type) : isA(b.type)))
        .map((b) => ({
          id: b.id,
          name: b.name,
          price: Number(parsePrice(b.price)) || 0,
          resultName: b.name,
        }))
        .sort((a, b) => a.name.localeCompare(b.name));
    }

    // ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ‡∏Ç‡∏≠‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏° Generic Variant (‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å)
    function getGVAddon(it) {
      if (!isGenericVariant(it)) return null;
      const s = gvMap.get(it.id);
      return s ? { name: s.name, price: s.price } : null;
    }

    // ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠
    function escapeHtml(str = "") {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏°‡πâ‡∏Å‡∏£‡∏≠‡∏á/‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà)
    const selectedIds = new Set();

    // UI ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏ö bulk actions (‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô & ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°)
    function updateBulkActionsUI() {
      const txt = document.getElementById("selectedCount");
      if (txt) txt.textContent = `(${selectedIds.size} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)`;
      const btn = document.getElementById("copySelectedBtn");
      if (btn) btn.disabled = selectedIds.size === 0;

      const addBtn = document.getElementById("addToCartBtn");
      if (addBtn) addBtn.disabled = selectedIds.size === 0;
    }

    function parsePrice(s) {
      const n = Number(String(s || "").replace(/[^0-9.]/g, ""));
      return isFinite(n) ? n : 0;
    }
    function fmt(n) {
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    function formatDiscordItems(items) {
      const lines = items.map((it) => {
        // ‡∏ê‡∏≤‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å price ‡∏õ‡∏Å‡∏ï‡∏¥
        let basePrice = parsePrice(it.price);

        // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Gemstone ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ‡πÑ‡∏ß‡πâ ‡πÉ‡∏´‡πâ override ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å modal
        const gem = isGemstone(it) ? getGemAddon(it) : null;
        if (gem) basePrice = gem.final;

        // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Generic Variant base item ‡∏Å‡πá + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
        const gv = getGVAddon ? getGVAddon(it) : null;
        const tagGV = gv ? ` [Base: ${gv.name} (+${fmt(gv.price)})]` : "";
        const tagGem = gem
          ? ` [${gem.name} ${fmt(gem.worth)} gp worth √ó ${gem.factor.toFixed(
            2
          )} = ${fmt(gem.final)} gp]`
          : "";

        const totalPrice = basePrice + (gv?.price || 0);
        const priceTxt = `${fmt(totalPrice)} gp`;

        return `- ${it.name}${tagGem}${tagGV} ‚Äî ${priceTxt}`;
      });

      const total = items.reduce((sum, it) => {
        let base = parsePrice(it.price);
        const gem = isGemstone(it) ? getGemAddon(it) : null;
        if (gem) base = gem.final;
        const gv = getGVAddon ? getGVAddon(it)?.price || 0 : 0;
        return sum + base + gv;
      }, 0);

      const header = `‡∏ã‡∏∑‡πâ‡∏≠ (${items.length} ‡∏ä‡∏¥‡πâ‡∏ô)`;
      const footer = `‚Äî ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô: - ${fmt(total)} gp`;
      return (
        "" + header + "\n" + lines.join("\n") + "\n" + "\n" + footer + "" // <--- No Markdown
        // "```md\n" + header + "\n" + lines.join("\n") + "\n" + footer + "\n```" // <--- ‡πÅ‡∏ö‡∏ö Markdown
      );
    }

    let currentItems = [];
    let currentRenderedItems = [];
    let currentUpdates = [];
    let isAdminMode = false;
    let adminToken = null;
    const openItemIds = new Set();

    let currentPage = 1;
    const itemsPerPage = 50;

    // === DOM Elements ===
    const navButtons = document.querySelectorAll(".nav-btn");
    const pageContents = document.querySelectorAll(".page-content");
    const adminPanel = document.getElementById("adminPanel");
    const adminToggle = document.getElementById("adminToggle");
    const adminModal = document.getElementById("adminModal");

    // Initialize
    document.addEventListener("DOMContentLoaded", function () {
      setupEventListeners();
      loadData();
    });

    function setupEventListeners() {
      document
        .getElementById("copySelectedBtn")
        .addEventListener("click", async () => {
          const items = currentItems.filter((it) => selectedIds.has(it.id));
          const text = formatDiscordItems(items);
          await navigator.clipboard.writeText(text);
          const btn = document.getElementById("copySelectedBtn");
          const old = btn.textContent;
          btn.textContent = "‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚úì";
          setTimeout(() => (btn.textContent = old), 1500);
        });

      document
        .getElementById("addToCartBtn")
        .addEventListener("click", () => {
          const ids = Array.from(selectedIds);
          if (!ids.length) return;

          if (!window.CART || typeof window.CART.addSelected !== "function") {
            console.warn("CART API not loaded");
            alert("‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô");
            return;
          }
          window.CART.addSelected(ids);
        });

      // === Buy/Sell Popup Logic ===
      let pendingItemForCart = null;
      const buySellPopup = document.getElementById("buySellPopup");
      const popupBuyBtn = document.getElementById("popupBuyBtn");
      const popupSellBtn = document.getElementById("popupSellBtn");

      function hideBuySellPopup() {
        if (buySellPopup) buySellPopup.classList.add("hidden");
        pendingItemForCart = null;
      }

      function showBuySellPopup(btn, item) {
        pendingItemForCart = item;
        const rect = btn.getBoundingClientRect();
        buySellPopup.style.left = `${rect.left}px`;
        buySellPopup.style.top = `${rect.bottom + 4}px`;
        buySellPopup.classList.remove("hidden");
      }

      // Close popup when clicking outside
      document.addEventListener("click", (e) => {
        if (buySellPopup && !buySellPopup.contains(e.target) && !e.target.closest(".add-cart-btn")) {
          hideBuySellPopup();
        }
      });

      // Buy button in popup
      if (popupBuyBtn) {
        popupBuyBtn.addEventListener("click", () => {
          if (pendingItemForCart && window.CART) {
            window.CART.addSelected([pendingItemForCart.id]);
          }
          hideBuySellPopup();
        });
      }

      // Sell button in popup
      if (popupSellBtn) {
        popupSellBtn.addEventListener("click", () => {
          if (pendingItemForCart && window.CART) {
            // ‡πÉ‡∏ä‡πâ addSellItemFromItem ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Gemstone ‡πÅ‡∏•‡∏∞ Generic Variant
            window.CART.addSellItemFromItem(pendingItemForCart);
          }
          hideBuySellPopup();
        });
      }

      document.getElementById("itemsList").addEventListener("click", (e) => {
        const btn = e.target.closest(".add-cart-btn"); // ‡πÅ‡∏Å‡πâ selector ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏õ‡∏∏‡πà‡∏°
        if (!btn) return;
        e.preventDefault();
        e.stopPropagation(); // ‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏õ‡∏ó‡∏£‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ñ‡∏ß

        const id = btn.dataset.addId;
        const item = currentItems.find(it => String(it.id) === String(id));
        if (!item) return;

        // Show buy/sell popup
        showBuySellPopup(btn, item);
      });

      document
        .getElementById("clearSelectionBtn")
        .addEventListener("click", () => {
          // ‡∏•‡πâ‡∏≤‡∏á‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          selectedIds.clear();

          // ‡∏õ‡∏•‡∏î‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏µ‡πà "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡∏ó‡∏±‡πâ‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á
          const top = document.getElementById("selectAllTop");
          if (top) top.checked = false;
          const head = document.querySelector("#itemsList #selectAll");
          if (head) head.checked = false;

          // ‡∏õ‡∏•‡∏î‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô ‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå
          document
            .querySelectorAll("#itemsList .row-select:not(:disabled)")
            .forEach((cb) => {
              cb.checked = false;
              const row = cb.closest("tr[data-row-index]");
              if (row)
                row.classList.remove(
                  "ring-1",
                  "ring-fantasy-gold",
                  "bg-gray-700/40"
                );
            });

          // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ñ‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ (‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö/‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å)
          updateBulkActionsUI();
        });

      // Navigation
      navButtons.forEach((btn) => {
        btn.addEventListener("click", () => switchPage(btn.dataset.page));
      });

      // Admin toggle
      adminToggle.addEventListener("click", showAdminLogin);

      // Admin login
      document
        .getElementById("adminLoginForm")
        .addEventListener("submit", handleAdminLogin);
      document
        .getElementById("cancelAdmin")
        .addEventListener("click", hideAdminLogin);

      // Forms
      document
        .getElementById("itemForm")
        .addEventListener("submit", handleItemSubmit);
      document
        .getElementById("updateForm")
        .addEventListener("submit", handleUpdateSubmit);

      // Cancel edit buttons
      document
        .getElementById("itemCancelEdit")
        .addEventListener("click", clearItemForm);
      document
        .getElementById("updateCancelEdit")
        .addEventListener("click", clearUpdateForm);

      // Filters
      document
        .getElementById("tierFilter")
        .addEventListener("change", filterItems);
      document
        .getElementById("rarityFilter")
        .addEventListener("change", filterItems);
      document
        .getElementById("attuneFilter")
        .addEventListener("change", filterItems);
      document
        .getElementById("PerDisFilter")
        .addEventListener("change", filterItems);
      document
        .getElementById("typeFilter")
        .addEventListener("change", filterItems);
      document
        .getElementById("searchFilter")
        .addEventListener("input", filterItems);
      document
        .getElementById("sortPrice")
        .addEventListener("change", filterItems);

      // Close modal on outside click
      adminModal.addEventListener("click", (e) => {
        if (e.target === adminModal) hideAdminLogin();
      });
    }

    // === Cart Modal ===
    document.addEventListener("DOMContentLoaded", () => {
      const cartModal = document.getElementById("cartModal");
      const openBtn = document.getElementById("openCartModalBtn");
      const closeBtn = document.getElementById("closeCartModalBtn");

      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Modal
      function openCartModal() {
        cartModal.classList.remove("hidden");
        if (window.CART && typeof window.CART.render === "function") {
          window.CART.render();
        }
      }

      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏¥‡∏î Modal
      function closeCartModal() {
        cartModal.classList.add("hidden");
      }

      // Event Listeners
      if (openBtn) openBtn.addEventListener("click", openCartModal);
      if (closeBtn) closeBtn.addEventListener("click", closeCartModal);

      // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏ô‡∏≠‡∏Å
      cartModal.addEventListener("click", (e) => {
        if (e.target === cartModal) closeCartModal();
      });

      // (Optional) ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Bulk Actions ‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î Modal ‡∏î‡πâ‡∏ß‡∏¢
      // ‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô bulkActions ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
      const bulkCartBtn = document.querySelector('#bulkActions [data-page="cart"]');
      if (bulkCartBtn) {
        bulkCartBtn.removeAttribute('data-page'); // ‡∏•‡∏ö navigation ‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏≠‡∏Å
        bulkCartBtn.addEventListener('click', openCartModal);
      }
    });

    function switchPage(pageId) {
      // Update navigation - just toggle active class, CSS handles the styling
      navButtons.forEach((btn) => {
        btn.classList.remove("active");
      });

      const activeBtn = document.querySelector(`[data-page="${pageId}"]`);
      if (activeBtn) {
        activeBtn.classList.add("active");
      }

      // Update content with quick transition
      pageContents.forEach((page) => page.classList.add("hidden"));
      const targetPage = document.getElementById(`${pageId}Page`);
      if (targetPage) {
        targetPage.classList.remove("hidden");
      }

      // Load data if needed
      if (pageId === "items" && currentItems.length === 0) {
        loadItems();
      } else if (pageId === "updates" && currentUpdates.length === 0) {
        loadUpdates();
      }
    }

    function showAdminLogin() {
      if (isAdminMode) {
        isAdminMode = false;
        adminToken = null;
        adminPanel.classList.remove("active");
        adminToggle.textContent = "Admin Panel";
        adminToggle.classList.remove("bg-fantasy-red");
        adminToggle.classList.add("bg-fantasy-purple");
        refreshAdminUI();
      } else {
        adminModal.classList.remove("hidden");
        document.getElementById("adminPassword").focus();
      }
    }

    function hideAdminLogin() {
      adminModal.classList.add("hidden");
      document.getElementById("adminPassword").value = "";
    }

    async function handleAdminLogin(e) {
      e.preventDefault();
      const password = document.getElementById("adminPassword").value.trim();

      const fd = new FormData();
      fd.append("action", "login");
      fd.append("password", password);

      try {
        const res = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          body: fd,
        });
        const data = await res.json();

        if (data && data.success && data.token) {
          adminToken = data.token;
          isAdminMode = true;
          adminPanel.classList.add("active");
          adminToggle.textContent = "‡∏õ‡∏¥‡∏î Admin";
          adminToggle.classList.remove("bg-fantasy-purple");
          adminToggle.classList.add("bg-fantasy-red");
          hideAdminLogin();

          // Set today's date as default
          document.getElementById("updateDate").value = new Date()
            .toISOString()
            .split("T")[0];

          refreshAdminUI(); // ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
        } else {
          alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!");
          document.getElementById("adminPassword").value = "";
          document.getElementById("adminPassword").focus();
        }
      } catch (err) {
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô");
        console.error(err);
      }
    }

    function refreshAdminUI() {
      // re-render ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏° isAdminMode
      displayItems(currentItems);
      displayUpdates(currentUpdates);
    }

    function toggleDescription(id) {
      const element = document.getElementById(id);
      if (element) element.classList.toggle("hidden");
    }

    async function loadData() {
      await Promise.all([loadItems(), loadUpdates()]);
    }

    async function loadItems() {
      const cached = readCache(CACHE.items);
      if (cached?.items) {
        currentItems = cached.items.map((it) => ({
          ...it,
          nameLink: unwrapGoogleRedirect(it.nameLink),
        }));
        displayItems(currentItems);
        restoreFilters();
        filterItems(false);
      }

      const controller = new AbortController();
      const to = setTimeout(() => controller.abort(), 10_000);
      try {
        const fresh = await fetchJSON(
          `${GOOGLE_SCRIPT_URL}?action=getItems`,
          { signal: controller.signal }
        );
        clearTimeout(to);
        if (fresh?.items) {
          writeCache(CACHE.items, fresh, TTL.items);
          currentItems = fresh.items.map((it) => ({
            ...it,
            nameLink: unwrapGoogleRedirect(it.nameLink),
          }));
          // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô re-render
          displayItems(currentItems);
          restoreFilters();
          filterItems(false);
        }
      } catch (e) {
        if (!cached) {
          console.error("Error loading items:", e);
          document.getElementById(
            "itemsList"
          ).innerHTML = `<div class="text-center py-8 text-red-400">
                <p>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                <button onclick="loadItems()" class="mt-4 bg-fantasy-gold text-black px-4 py-2 rounded">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
              </div>`;
        }
      }
    }

    async function loadUpdates() {
      const cached = readCache(CACHE.updates);
      if (cached?.updates) {
        currentUpdates = cached.updates;
        displayUpdates(currentUpdates);
      }
      const controller = new AbortController();
      const to = setTimeout(() => controller.abort(), 10_000);
      try {
        const fresh = await fetchJSON(
          `${GOOGLE_SCRIPT_URL}?action=getUpdates`,
          { signal: controller.signal }
        );
        clearTimeout(to);
        if (fresh?.updates) {
          writeCache(CACHE.updates, fresh, TTL.updates);
          currentUpdates = fresh.updates;
          displayUpdates(currentUpdates);
        }
      } catch (e) {
        if (!cached) {
          console.error("Error loading updates:", e);
          document.getElementById(
            "updatesList"
          ).innerHTML = `<div class="text-center py-8 text-red-400">
                <p>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                <button onclick="loadUpdates()" class="mt-4 bg-fantasy-gold text-black px-4 py-2 rounded">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
              </div>`;
        }
      }
    }

    function escapeHtml(str = "") {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    let _lastIsMobile = window.innerWidth < 768;

    if (!window._resizeListenerAdded) {
      window.addEventListener('resize', () => {
        const currentIsMobile = window.innerWidth < 768;
        if (currentIsMobile !== _lastIsMobile) {
          _lastIsMobile = currentIsMobile;
          if (typeof currentItems !== 'undefined') displayItems(currentItems);
        }
      });
      window._resizeListenerAdded = true;
    }

    function displayItems(items) {
      const container = document.getElementById("itemsList");

      if (items.length === 0) {
        container.innerHTML = `
            <div class="text-center py-8 text-gray-400">
              <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
            </div>`;
        return;
      }

      const totalPages = Math.ceil(items.length / itemsPerPage);
      if (currentPage > totalPages) currentPage = totalPages;
      if (currentPage < 1) currentPage = 1;

      const start = (currentPage - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      currentRenderedItems = items;
      renderPaginationControls(items.length);
      const paginatedItems = items.slice(start, end);

      const isMobile = window.innerWidth < 768;
      const baseCols = isMobile ? 5 : 8;
      const finalColSpan = isAdminMode ? baseCols + 1 : baseCols;

      // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ Tier
      const tierColors = {
        "Tier 0": "bg-gray-500",
        "Tier 1": "bg-emerald-600",
        "Tier 2": "bg-blue-600",
        "Tier 3": "bg-purple-600",
        "Tier 4": "bg-orange-500",
        "Tier 5": "bg-red-600",
        "Mundane Item": "bg-black"
      };

      let itemsHTML = `
        <div class="overflow-x-auto rounded-lg border border-gray-700">
          <table class="${isMobile ? 'table-fixed w-full' : 'table-auto min-w-[860px] w-full'} bg-gray-900/40 text-[10px] md:text-sm text-left border-collapse">
            <thead>
              <tr class="bg-gray-800 text-gray-200 border-b border-gray-700 uppercase tracking-wider text-xs">
                <th class="px-1 py-3 text-center w-[8%] md:w-[4rem]"></th>
                
                <th class="px-1 md:px-4 py-3 font-semibold w-[37%] md:w-1/3 text-yellow-400">‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</th>
                
                <th class="px-1 md:px-4 py-3 font-semibold w-[25%] md:w-1/4 text-purple-400">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                
                <th class="hidden md:table-cell px-4 py-3 text-center font-semibold min-w-[60px] text-blue-300">ATN</th>
                <th class="hidden md:table-cell px-4 py-3 text-center font-semibold min-w-[90px] text-blue-300">‡∏ä‡∏ô‡∏¥‡∏î</th>
                
                <th class="hidden md:table-cell px-10 py-3 text-center font-semibold min-w-[80px] text-blue-300">Rarity</th>
                
                <th class="pl-3 pr-0 md:pl-12 md:pr-4 py-3 text-center font-semibold w-[12%] md:min-w-[60px] text-blue-300">Tier</th>
                
                <th class="px-1 md:px-4 py-3 text-right font-semibold w-[18%] md:min-w-[90px] text-yellow-400">‡∏£‡∏≤‡∏Ñ‡∏≤(GP)</th>
                
                ${isAdminMode
          ? `<th class="px-4 py-3 text-center text-red-400 font-bold min-w-[100px]">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>`
          : ``
        }
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-700">
              ${paginatedItems.map((item, index) => {
          const actionBtn = (() => {
            const lockReason =
              window.SELECT_RULES && window.SELECT_RULES.shouldDisable
                ? window.SELECT_RULES.shouldDisable(item)
                : null;
            if (lockReason) {
              return `<span class="inline-flex items-center justify-center w-5 h-5 md:w-6 md:h-6 rounded bg-gray-700 text-gray-500" title="${escapeHtml(lockReason)}" aria-disabled="true">üîí</span>`;
            } else {
              return `<button class="add-cart-btn inline-flex items-center justify-center w-5 h-5 md:w-6 md:h-6 rounded-md bg-gray-900 hover:bg-gray-700 text-white transition-all duration-200 hover:scale-110 shadow-md border border-gray-700"
                                    data-add-id="${item.id}" title="‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤">üõí</button>`;
            }
          })();

          const tColor = tierColors[item.tier] || "bg-gray-600";
          // Rarity colors map for badges (standardized)
          const rarityColorMap = {
            "common": "text-gray-400 border-gray-600",
            "uncommon": "text-emerald-400 border-emerald-800",
            "rare": "text-blue-400 border-blue-800",
            "very-rare": "text-purple-400 border-purple-800",
            "legendary": "text-yellow-400 border-yellow-800",
            "artifact": "text-red-400 border-red-800",
            "mundane": "text-gray-500 border-gray-600"
          };
          const rKey = (item.rarity || "Common").toLowerCase().replace(" ", "-");
          const rClass = rarityColorMap[rKey] || "text-gray-400 border-gray-600";


          return `
                <tr class="bg-gray-900/30 hover:bg-gray-800/50 transition-colors cursor-pointer group" data-row-index="${index}">
                  
                  <td class="px-0 md:px-2 py-2 md:py-3 text-center">
                    <div class="flex items-center justify-center gap-1 md:gap-2">
                        <input type="checkbox" class="row-select w-3 h-3 md:w-4 md:h-4 rounded bg-gray-700 border-gray-600 focus:ring-blue-500 text-blue-600 hidden md:inline-block outline-none" data-id="${item.id}">
                        ${actionBtn}
                    </div>
                  </td>

                  <td class="px-1 md:px-4 py-2 md:py-3 break-words align-middle">
                      <div class="font-medium text-gray-200 group-hover:text-white leading-tight">
                        ${item.nameLink
              ? `<a href="${item.nameLink
              }" target="_blank" rel="noopener noreferrer" class="hover:underline decoration-blue-400 underline-offset-2">${escapeHtml(
                item.name
              )}</a>`
              : `${escapeHtml(item.name)}`
            }
                      </div>
                  </td>

                  <td class="px-1 md:px-4 py-2 md:py-3 text-gray-400 break-words align-middle leading-tight font-mono text-xs md:text-sm">${escapeHtml(
              item.type
            )}</td>

                  <td class="hidden md:table-cell px-4 py-3 text-center whitespace-nowrap">
                    <span class="px-2 py-1 rounded text-xs font-bold ring-1 ring-inset ${item.attune === "Yes"
              ? "bg-green-900/30 text-green-400 ring-green-900"
              : "bg-red-900/30 text-red-400 ring-red-900"
            }">
                      ${item.attune === "Yes" ? "Yes" : "No"}
                    </span>
                  </td>

                  <td class="hidden md:table-cell px-4 py-3 text-center whitespace-nowrap">
                    <span class="px-2 py-1 rounded text-xs font-bold ring-1 ring-inset ${item.perdis === "‡∏ñ‡∏≤‡∏ß‡∏£"
              ? "bg-blue-900/30 text-blue-400 ring-blue-900"
              : "bg-orange-900/30 text-orange-400 ring-orange-900"
            }">
                      ${item.perdis === "‡∏ñ‡∏≤‡∏ß‡∏£" ? "‡∏ñ‡∏≤‡∏ß‡∏£" : "‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á"}
                    </span>
                  </td>

                  <td class="hidden md:table-cell px-10 py-3 text-center whitespace-nowrap">
                    <span class="px-2 py-0.5 rounded border ${rClass} text-xs font-medium uppercase tracking-wider bg-opacity-10">
                      ${escapeHtml(item.rarity)}
                    </span>
                  </td>

                  <td class="pl-3 pr-0 md:pl-12 md:pr-4 py-2 md:py-3 text-center whitespace-nowrap align-middle">
                    <span class="px-1.5 py-0.5 md:px-2 md:py-1 rounded font-bold ${tColor} text-white shadow-sm inline-block text-[10px] md:text-xs tracking-tight max-w-[50px] truncate md:max-w-none align-bottom">${escapeHtml(item.tier)}</span>
                  </td>

                  <td class="px-1 md:px-4 py-2 md:py-3 text-right font-mono text-yellow-400 align-middle break-all text-xs md:text-sm font-bold tracking-tight">${escapeHtml(
              item.price
            )}</td>
                  
                  ${isAdminMode
              ? `
                    <td class="px-4 py-3 text-center whitespace-nowrap">
                        <div class="flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2">
                          <button class="btn-edit-item bg-yellow-600 hover:bg-yellow-500 text-white px-2 py-1 rounded w-full md:w-auto text-xs shadow-sm transition-transform active:scale-95"
                                  data-id="${item.id}">
                            ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                          </button>
                          <button class="btn-delete-item bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded w-full md:w-auto text-xs shadow-sm transition-transform active:scale-95"
                                  data-id="${item.id}" data-name="${escapeHtml(item.name)}">
                            ‡∏•‡∏ö
                          </button>
                        </div>
                    </td>`
              : ``
            }
                </tr>

                  <tr id="desc-${index}" class="${openItemIds.has(item.id) ? '' : 'hidden'} border-b border-gray-700 bg-gray-900/80">
                    <td colspan="${finalColSpan}" class="px-4 py-4 md:px-6 md:py-6">
                      <div class="grid gap-4 text-sm text-gray-300">
                          <div class="md:hidden flex flex-wrap gap-2 pb-2 border-b border-gray-700">
                              <div class="flex items-center gap-1 bg-gray-800 rounded px-2 py-1 border border-gray-600">
                                  <span class="text-blue-300 text-xs uppercase font-bold">ATN:</span>
                                  <span class="${item.attune === "Yes" ? "text-green-400" : "text-red-400"} font-bold">
                                      ${item.attune === "Yes" ? "Yes" : "No"}
                                  </span>
                              </div>
                              <div class="flex items-center gap-1 bg-gray-800 rounded px-2 py-1 border border-gray-600">
                                  <span class="text-blue-300 text-xs uppercase font-bold">‡∏ä‡∏ô‡∏¥‡∏î:</span>
                                  <span class="${item.perdis === "‡∏ñ‡∏≤‡∏ß‡∏£" ? "text-blue-400" : "text-orange-400"} font-bold">
                                      ${item.perdis}
                                  </span>
                              </div>
                              <div class="flex items-center gap-1 bg-gray-800 rounded px-2 py-1 border border-gray-600">
                                  <span class="text-blue-300 text-xs uppercase font-bold">Rarity:</span>
                                  <span class="${rClass} border-none !bg-transparent font-bold">
                                      ${item.rarity}
                                  </span>
                              </div>
                          </div>

                          ${isGenericVariant(item)
              ? `
                                <div class="flex items-center gap-3 p-3 bg-purple-900/20 rounded border border-purple-800/50">
                                  <span class="text-purple-300 font-bold">üîÆ Generic Variant Base:</span>
                                  <button type="button" class="px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold shadow transition-transform active:scale-95"
                                          data-gv-pick="${item.id}">
                                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
                                  </button>
                                  <span id="gvChip-${item.id}" class="text-gray-300 font-mono text-xs">
                                    ${gvMap.get(item.id)
                ? `${escapeHtml(gvMap.get(item.id).name)} (+${fmt(gvMap.get(item.id).price)} gp)`
                : "‚Äî"
              }
                                  </span>
                                </div>
                              `
              : ""
            }

                          ${isGemstone(item)
              ? `
                                <div class="flex items-center gap-3 p-3 bg-blue-900/20 rounded border border-blue-800/50">
                                  <span class="text-blue-300 font-bold">üíé Gemstone:</span>
                                  <button type="button" class="px-3 py-1 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold shadow transition-transform active:scale-95"
                                          data-gem-pick="${item.id}">
                                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ
                                  </button>
                                  <span id="gemChip-${item.id}" class="text-gray-300 font-mono text-xs">
                                    ${gemMap.get(item.id)
                ? `${escapeHtml(gemMap.get(item.id).name)} √ó ${gemMap.get(item.id).factor.toFixed(2)} = ${fmt(gemMap.get(item.id).final)} gp`
                : "‚Äî"
              }
                                  </span>
                                </div>
                              `
              : ""
            }

                          ${item.description
              ? `
                                <div class="p-3 bg-gray-800 rounded border border-gray-700">
                                  <strong class="text-yellow-400 block mb-2 text-xs uppercase tracking-wide">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong>
                                  <div class="leading-relaxed text-gray-300 text-sm whitespace-pre-wrap">${escapeHtml(item.description)}</div>
                                </div>
                              `
              : `<div class="mt-1 text-gray-500 italic text-sm">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</div>`
            }
                          
                          ${item.book
              ? `
                                  <div class="flex items-center gap-2 mt-1">
                                    <strong class="text-gray-500 text-xs uppercase">Source:</strong>
                                    <span class="text-gray-400 text-xs bg-gray-800 px-2 py-0.5 rounded border border-gray-700">${escapeHtml(item.book)}</span>
                                  </div>
                                `
              : ``
            }

                          <div class="item-img-container" id="itemImg-${index}" data-item-name="${escapeHtml(item.name)}" data-item-book="${escapeHtml(item.book || '')}"></div>
                      </div>   
                    </td>
                  </tr>
                `;
        })
          .join("")}
            </tbody>
          </table>
        </div>`;

      container.innerHTML = itemsHTML;

      // Re-attach Events
      container.querySelectorAll("[data-gv-pick]").forEach((btn) => {
        btn.addEventListener("click", () =>
          openGVModal(btn.getAttribute("data-gv-pick"))
        );
      });
      container.querySelectorAll("[data-gem-pick]").forEach((btn) => {
        btn.addEventListener("click", () =>
          openGemModal(btn.getAttribute("data-gem-pick"))
        );
      });

      // Logic Selection
      const rows = container.querySelectorAll("tbody tr[data-row-index]");
      rows.forEach((row) => {
        const idx = Number(row.getAttribute("data-row-index"));
        const item = paginatedItems[idx];
        if (!item) return;

        const cb = row.querySelector(".row-select");
        cb.checked = selectedIds.has(item.id);

        row.dataset.id = item.id;
        row.dataset.name = item.name || "";
        row.dataset.type = item.type || "";
        row.dataset.price = item.price || "0 gp";

        const lockReason =
          window.SELECT_RULES && window.SELECT_RULES.shouldDisable
            ? window.SELECT_RULES.shouldDisable(item)
            : null;

        if (lockReason) {
          cb.disabled = true;
          cb.checked = false;
          cb.title = lockReason;
          selectedIds.delete(item.id);
          row.classList.add("opacity-60");
        }

        function paint(selected) {
          row.classList.toggle("ring-1", selected);
          row.classList.toggle("ring-fantasy-gold", selected);
          row.classList.toggle("bg-gray-700/40", selected);
        }
        paint(cb.checked);

        cb.addEventListener("click", (e) => e.stopPropagation());
        cb.addEventListener("change", (e) => {
          const id = e.target.dataset.id;
          if (e.target.checked) selectedIds.add(id);
          else selectedIds.delete(id);
          paint(e.target.checked);
          updateBulkActionsUI();
        });
      });

      updateBulkActionsUI();

      container.querySelectorAll("tbody tr[data-row-index]").forEach((row) => {
        row.addEventListener("click", (e) => {
          if (
            e.target.closest(".add-cart-btn") ||
            e.target.closest(".row-select") ||
            e.target.closest("[data-gv-pick]") ||
            e.target.closest("[data-gem-pick]") ||
            e.target.closest(".btn-edit-item") ||
            e.target.closest(".btn-delete-item")
          )
            return;

          const idx = row.getAttribute("data-row-index");
          const item = paginatedItems[Number(idx)];
          if (!item) return;

          const descRow = document.getElementById(`desc-${idx}`);
          if (!descRow) return;

          const isOpen = openItemIds.has(item.id);
          if (isOpen) {
            openItemIds.delete(item.id);
            descRow.classList.add("hidden");
          } else {
            openItemIds.add(item.id);
            descRow.classList.remove("hidden");

            // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
            if (window.ItemPic) {
              const imgContainer = document.getElementById(`itemImg-${idx}`);
              if (imgContainer && !imgContainer.dataset.loaded) {
                imgContainer.dataset.loaded = '1';
                window.ItemPic.renderItemImage(imgContainer, item.name, item.book);
              }
            }
          }
        });
      });

      container.querySelectorAll(".btn-edit-item").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.stopPropagation();
          startEditItem(btn.dataset.id);
        });
      });

      container.querySelectorAll(".btn-delete-item").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.stopPropagation();
          deleteItemConfirm(btn.dataset.id, btn.dataset.name);
        });
      });

      // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏•‡∏±‡∏á re-render ‡∏à‡∏≤‡∏Å filter/pagination)
      if (window.ItemPic) {
        paginatedItems.forEach((item, idx) => {
          if (openItemIds.has(item.id)) {
            const imgContainer = document.getElementById(`itemImg-${idx}`);
            if (imgContainer && !imgContainer.dataset.loaded) {
              imgContainer.dataset.loaded = '1';
              window.ItemPic.renderItemImage(imgContainer, item.name, item.book);
            }
          }
        });
      }
    }

    // === Pagination Controls ===
    function renderPaginationControls(totalCount) {
      const totalPages = Math.ceil(totalCount / itemsPerPage) || 1;

      const html = `
        <div class="flex items-center bg-gray-800/90 rounded-lg p-1 border border-gray-700 shadow-lg backdrop-blur-sm">
            <button class="pag-btn p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 disabled:opacity-30 disabled:hover:bg-transparent transition-all" 
                data-page="1" ${currentPage === 1 ? 'disabled' : ''} title="‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å">
                <span class="sr-only">First</span>
                ‚èÆ
            </button>
            <button class="pag-btn p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 disabled:opacity-30 disabled:hover:bg-transparent transition-all" 
                data-page="${currentPage - 1}" ${currentPage === 1 ? 'disabled' : ''} title="‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤">
                <span class="sr-only">Prev</span>
                ‚óÄ
            </button>
            
            <div class="flex items-center px-3 border-x border-gray-700/50 gap-2">
                <span class="text-xs text-gray-500 font-medium uppercase hidden sm:inline">Page</span>
                <input type="number" min="1" max="${totalPages}" value="${currentPage}" 
                    class="pag-input w-12 bg-gray-900 border border-gray-600 rounded text-center text-sm text-fantasy-gold font-bold focus:ring-1 focus:ring-fantasy-gold outline-none py-1 transition-all"
                >
                <span class="text-xs text-gray-500 font-medium whitespace-nowrap">/ ${totalPages}</span>
            </div>

            <button class="pag-btn p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 disabled:opacity-30 disabled:hover:bg-transparent transition-all" 
                data-page="${currentPage + 1}" ${currentPage === totalPages ? 'disabled' : ''} title="‡∏ñ‡∏±‡∏î‡πÑ‡∏õ">
                <span class="sr-only">Next</span>
                ‚ñ∂
            </button>
            <button class="pag-btn p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 disabled:opacity-30 disabled:hover:bg-transparent transition-all" 
                data-page="${totalPages}" ${currentPage === totalPages ? 'disabled' : ''} title="‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢">
                <span class="sr-only">Last</span>
                ‚è≠
            </button>
        </div>
      `;

      // Update bottom pagination container
      const container = document.getElementById('paginationBottom');
      if (container) {
        if (totalCount === 0) {
          container.innerHTML = '';
          container.classList.add('hidden');
        } else {
          container.classList.remove('hidden');
          container.innerHTML = html;

          // Attach Events
          container.querySelectorAll('.pag-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
              const targetPage = parseInt(e.currentTarget.dataset.page);
              if (targetPage >= 1 && targetPage <= totalPages) {
                currentPage = targetPage;
                displayItems(currentRenderedItems);
                document.getElementById('itemsPageFilters').scrollIntoView({ behavior: 'smooth', block: 'start' });
              }
            });
          });

          const input = container.querySelector('.pag-input');
          if (input) {
            input.addEventListener('change', (e) => {
              let val = parseInt(e.target.value);
              if (isNaN(val)) val = 1;
              if (val < 1) val = 1;
              if (val > totalPages) val = totalPages;

              currentPage = val;
              displayItems(currentRenderedItems);
            });
            input.addEventListener('keydown', (e) => {
              if (e.key === 'Enter') input.blur();
            });
          }
        }
      }
    }

    function displayUpdates(updates) {
      const container = document.getElementById("updatesList");

      if (updates.length === 0) {
        container.innerHTML = `
            <div class="text-center py-8 text-gray-400">
              <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó</p>
            </div>`;
        return;
      }

      container.innerHTML = updates
        .map(
          (update) => `
          <div class="bg-gray-800 rounded-lg p-6 mb-4">
            <div class="flex justify-between items-start mb-4 gap-3">
              <div>
                <h3 class="text-xl font-bold text-purple-300">${escapeHtml(
            update.title
          )}</h3>
                <span class="text-sm text-gray-400">${formatDate(
            update.date
          )}</span>
              </div>
              ${isAdminMode
              ? `
                <div class="flex gap-2">
                  <button class="btn-edit-update bg-yellow-500 hover:bg-yellow-600 text-black text-xs px-3 py-1 rounded"
                          data-id="${update.id}">
                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                  </button>
                  <button class="btn-delete-update bg-red-600 hover:bg-red-700 text-white text-xs px-3 py-1 rounded"
                          data-id="${update.id}" data-title="${escapeHtml(
                update.title
              )}">
                    ‡∏•‡∏ö
                  </button>
                </div>`
              : ``
            }
            </div>
            <div class="text-gray-300 whitespace-pre-line">${escapeHtml(
              update.content
            )}</div>
          </div>`
        )
        .join("");

      // ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
      container.querySelectorAll(".btn-edit-update").forEach((btn) => {
        btn.addEventListener("click", () => {
          const id = btn.dataset.id;
          startEditUpdate(id);
        });
      });

      // ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
      container.querySelectorAll(".btn-delete-update").forEach((btn) => {
        btn.addEventListener("click", async () => {
          const id = btn.dataset.id;
          const title = btn.dataset.title || "";
          deleteUpdateConfirm(id, title);
        });
      });
    }

    function filterItems(resetPage = true) {
      const tierFilter = document.getElementById("tierFilter").value;
      const rarityFilter = document.getElementById("rarityFilter").value;
      const attuneFilter = document.getElementById("attuneFilter").value;
      const PerDisFilter = document.getElementById("PerDisFilter").value;
      const typeFilter = document.getElementById("typeFilter").value;
      const searchFilter = document
        .getElementById("searchFilter")
        .value.toLowerCase();
      const sortPrice = document.getElementById("sortPrice").value;

      const filteredItems = currentItems.filter((item) => {
        return (
          (!tierFilter || item.tier === tierFilter) &&
          (!rarityFilter || item.rarity === rarityFilter) &&
          (!attuneFilter || item.attune === attuneFilter) &&
          (!PerDisFilter || item.perdis === PerDisFilter) &&
          (!typeFilter || item.type.includes(typeFilter)) &&
          (!searchFilter || item.name.toLowerCase().includes(searchFilter))
        );
      });

      if (sortPrice === "asc") {
        filteredItems.sort(
          (a, b) => parsePrice(a.price) - parsePrice(b.price)
        );
      } else if (sortPrice === "desc") {
        filteredItems.sort(
          (a, b) => parsePrice(b.price) - parsePrice(a.price)
        );
      }

      if (resetPage) currentPage = 1;
      displayItems(filteredItems);
      saveFilters();
    }

    // ===== Edit flows =====
    function startEditItem(id) {
      if (!isAdminMode || !adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }
      const item = currentItems.find((it) => it.id === id);
      if (!item) return;

      document.getElementById("itemId").value = item.id;
      document.getElementById("itemName").value = item.name || "";
      document.getElementById("itemNameLink").value = item.nameLink || "";
      document.getElementById("itemAttune").value = item.attune || "No";
      document.getElementById("itemPerDis").value = item.perdis || "‡∏ñ‡∏≤‡∏ß‡∏£";
      document.getElementById("itemType").value = item.type || "";
      document.getElementById("itemPrice").value = item.price || "";
      document.getElementById("itemTier").value = item.tier || "Tier 0";
      document.getElementById("itemRarity").value = item.rarity || "Common";
      document.getElementById("itemBook").value = item.book || "";
      document.getElementById("itemDescription").value =
        item.description || "";

      document.getElementById("itemEditHint").classList.remove("hidden");
      adminPanel.classList.add("active");
      adminPanel.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    function clearItemForm() {
      document.getElementById("itemForm").reset();
      document.getElementById("itemId").value = "";
      document.getElementById("itemEditHint").classList.add("hidden");
    }

    function startEditUpdate(id) {
      if (!isAdminMode || !adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }
      const up = currentUpdates.find((u) => u.id === id);
      if (!up) return;

      document.getElementById("updateId").value = up.id;
      document.getElementById("updateTitle").value = up.title || "";
      // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏Å ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô YYYY-MM-DD ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô ISO
      const d = new Date(up.date);
      if (!isNaN(d.getTime())) {
        document.getElementById("updateDate").value = d
          .toISOString()
          .slice(0, 10);
      } else {
        document.getElementById("updateDate").value = up.date || "";
      }
      document.getElementById("updateContent").value = up.content || "";

      document.getElementById("updateEditHint").classList.remove("hidden");
      adminPanel.classList.add("active");
      adminPanel.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    function clearUpdateForm() {
      document.getElementById("updateForm").reset();
      document.getElementById("updateId").value = "";
      document.getElementById("updateEditHint").classList.add("hidden");
      // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢)
      document.getElementById("updateDate").value = new Date()
        .toISOString()
        .slice(0, 10);
    }

    // --- Submit handlers (‡πÅ‡∏ô‡∏ö token ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡πÄ‡∏Ñ‡πá‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏) ---
    async function handleItemSubmit(e) {
      e.preventDefault();

      if (!adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }

      const formData = new FormData();
      formData.append(
        "action",
        document.getElementById("itemId").value ? "updateItem" : "addItem"
      );
      formData.append("token", adminToken);
      formData.append("id", document.getElementById("itemId").value);
      formData.append("name", document.getElementById("itemName").value);
      formData.append(
        "nameLink",
        document.getElementById("itemNameLink").value
      );
      formData.append("attune", document.getElementById("itemAttune").value);
      formData.append("perdis", document.getElementById("itemPerDis").value);
      formData.append("type", document.getElementById("itemType").value);
      formData.append("price", document.getElementById("itemPrice").value);
      formData.append("tier", document.getElementById("itemTier").value);
      formData.append("rarity", document.getElementById("itemRarity").value);
      formData.append("book", document.getElementById("itemBook").value);
      formData.append(
        "description",
        document.getElementById("itemDescription").value
      );

      try {
        const response = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          body: formData,
        });
        const result = await response.json();
        if (result.success) {
          alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
          clearItemForm();
          await loadItems();
        } else {
          handleAuthErrors(result);
        }
      } catch (error) {
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
        console.error(error);
      }
    }

    async function handleUpdateSubmit(e) {
      e.preventDefault();

      if (!adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }

      const formData = new FormData();
      formData.append(
        "action",
        document.getElementById("updateId").value
          ? "updateUpdate"
          : "addUpdate"
      );
      formData.append("token", adminToken); // ‡πÅ‡∏ô‡∏ö‡πÇ‡∏ó‡πÄ‡∏Ñ‡πá‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
      formData.append("id", document.getElementById("updateId").value);
      formData.append("title", document.getElementById("updateTitle").value);
      formData.append("date", document.getElementById("updateDate").value);
      formData.append(
        "content",
        document.getElementById("updateContent").value
      );

      try {
        const response = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          body: formData,
        });
        const result = await response.json();
        if (result.success) {
          alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
          clearUpdateForm();
          await loadUpdates();
        } else {
          handleAuthErrors(result);
        }
      } catch (error) {
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
        console.error(error);
      }
    }

    // --- Delete flows with confirm() ---
    async function deleteItemConfirm(id, name) {
      if (!adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }
      const ok = confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°:\n${name || id}`);
      if (!ok) return;

      const fd = new FormData();
      fd.append("action", "deleteItem");
      fd.append("token", adminToken);
      fd.append("id", id);

      try {
        const res = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          body: fd,
        });
        const data = await res.json();
        if (data.success) {
          alert("‡∏•‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
          await loadItems();
        } else {
          handleAuthErrors(data);
        }
      } catch (err) {
        alert("‡∏•‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
        console.error(err);
      }
    }

    async function deleteUpdateConfirm(id, title) {
      if (!adminToken) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }
      const ok = confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó:\n${title || id}`);
      if (!ok) return;

      const fd = new FormData();
      fd.append("action", "deleteUpdate");
      fd.append("token", adminToken);
      fd.append("id", id);

      try {
        const res = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          body: fd,
        });
        const data = await res.json();
        if (data.success) {
          alert("‡∏•‡∏ö‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
          await loadUpdates();
        } else {
          handleAuthErrors(data);
        }
      } catch (err) {
        alert("‡∏•‡∏ö‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
        console.error(err);
      }
    }

    function handleAuthErrors(result) {
      const msg =
        result && result.error ? String(result.error) : "‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏";
      if (
        msg.includes("TOKEN_INVALID_OR_EXPIRED") ||
        msg.includes("NO_AUTH_TOKEN")
      ) {
        alert("‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà");
        // ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà
        isAdminMode = false;
        adminToken = null;
        adminPanel.classList.remove("active");
        adminToggle.textContent = "Admin Panel";
        adminToggle.classList.remove("bg-fantasy-red");
        adminToggle.classList.add("bg-purple-600/10");
        adminModal.classList.remove("hidden");
        document.getElementById("adminPassword").focus();
        refreshAdminUI();
      } else {
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + msg);
      }
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString("th-TH", {
        year: "numeric",
        month: "long",
        day: "numeric",
      });
    }
  </script>

  <script>
    // --- Remember Filters (very small) ---
    const FILTER_KEY = "tsm.filters.v1";

    function _els() {
      return {
        tier: document.getElementById("tierFilter"),
        rarity: document.getElementById("rarityFilter"),
        attune: document.getElementById("attuneFilter"),
        perdis: document.getElementById("PerDisFilter"),
        type: document.getElementById("typeFilter"),
        q: document.getElementById("searchFilter"),
        sortPrice: document.getElementById("sortPrice"),
      };
    }

    function saveFilters() {
      const e = _els();
      const state = {
        tier: e.tier?.value || "",
        rarity: e.rarity?.value || "",
        attune: e.attune?.value || "",
        perdis: e.perdis?.value || "",
        type: e.type?.value || "",
        q: e.q?.value || "",
        sortPrice: e.sortPrice?.value || "",
        page: currentPage || 1,
      };
      localStorage.setItem(FILTER_KEY, JSON.stringify(state));
    }

    function restoreFilters() {
      try {
        const raw = localStorage.getItem(FILTER_KEY);
        if (!raw) return;
        const s = JSON.parse(raw);
        const e = _els();
        if (e.tier) e.tier.value = s.tier ?? "";
        if (e.rarity) e.rarity.value = s.rarity ?? "";
        if (e.attune) e.attune.value = s.attune ?? "";
        if (e.perdis) e.perdis.value = s.perdis ?? "";
        if (e.type) e.type.value = s.type ?? "";
        if (e.q) e.q.value = s.q ?? "";
        if (e.sortPrice) e.sortPrice.value = s.sortPrice ?? "";
        if (s.page) currentPage = Number(s.page) || 1;
      } catch { }
    }
  </script>

  <script>
    // === Crafting Calculator Maps (‡∏≠‡∏¥‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Crafting) ===
    // Favor (Crafing Cost):
    // Tier 0-1: ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á=6, ‡∏ñ‡∏≤‡∏ß‡∏£=12 | T2: 10/20 | T3: 20/40 | T4: 30/60 | T5: 40/80
    const FAVOR_MAP = {
      disposable: {
        // ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á
        "Tier 0": 6,
        "Tier 1": 6,
        "Tier 2": 10,
        "Tier 3": 20,
        "Tier 4": 30,
        "Tier 5": 40,
      },
      permanent: {
        // ‡∏ñ‡∏≤‡∏ß‡∏£
        "Tier 0": 12,
        "Tier 1": 12,
        "Tier 2": 20,
        "Tier 3": 40,
        "Tier 4": 60,
        "Tier 5": 80,
      },
    };

    // DC & Checks (Crafting DC Table):
    const DC_MAP = {
      disposable: {
        "Tier 0": { dc: 12, checks: 1 },
        "Tier 1": { dc: 12, checks: 1 },
        "Tier 2": { dc: 14, checks: 4 },
        "Tier 3": { dc: 20, checks: 10 },
        "Tier 4": { dc: 22, checks: 20 },
        "Tier 5": { dc: 25, checks: 30 },
      },
      permanent: {
        "Tier 0": { dc: 14, checks: 4 },
        "Tier 1": { dc: 14, checks: 4 },
        "Tier 2": { dc: 16, checks: 8 },
        "Tier 3": { dc: 22, checks: 20 },
        "Tier 4": { dc: 26, checks: 40 },
        "Tier 5": { dc: 28, checks: 50 },
      },
    };

    function fmt(n) {
      if (n === null || n === undefined || Number.isNaN(n)) return "‚Äî";
      return n.toLocaleString(undefined, { maximumFractionDigits: 2 });
    }

    function calcCrafting() {
      const tier = document.getElementById("craftTier")?.value || "";
      const type = document.getElementById("craftType")?.value || ""; // "‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á" | "‡∏ñ‡∏≤‡∏ß‡∏£"
      const price = parseFloat(
        document.getElementById("craftPrice")?.value || ""
      ); // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô

      // ‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå
      const key =
        type === "‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏¥‡πâ‡∏á"
          ? "disposable"
          : type === "‡∏ñ‡∏≤‡∏ß‡∏£"
            ? "permanent"
            : null;

      const outFavor = document.getElementById("outFavor");
      const outDC = document.getElementById("outDC");
      const outChecks = document.getElementById("outChecks");
      const outGold = document.getElementById("outGold");

      if (!tier || !key) {
        outFavor.textContent = "‚Äî";
        outDC.textContent = "‚Äî";
        outChecks.textContent = "‚Äî";
        outGold.textContent = price > 0 ? fmt(price / 2) + " gp" : "‚Äî";
        return;
      }

      const favor = FAVOR_MAP[key][tier] ?? null;
      const dcObj = DC_MAP[key][tier] ?? { dc: null, checks: null };

      outFavor.textContent = fmt(favor);
      outDC.textContent = fmt(dcObj.dc);
      outChecks.textContent = fmt(dcObj.checks);
      outGold.textContent = price > 0 ? fmt(price / 2) + " gp" : "‚Äî";
    }

    // Hook ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡πÄ‡∏î‡∏¥‡∏°
    const _origSetup =
      typeof setupEventListeners === "function" ? setupEventListeners : null;
    window.setupEventListeners = function () {
      if (_origSetup) _origSetup();

      const elTier = document.getElementById("craftTier");
      const elType = document.getElementById("craftType");
      const elPrice = document.getElementById("craftPrice");
      const elReset = document.getElementById("craftReset");

      if (elTier) elTier.addEventListener("change", calcCrafting);
      if (elType) elType.addEventListener("change", calcCrafting);
      if (elPrice) elPrice.addEventListener("input", calcCrafting);
      if (elReset)
        elReset.addEventListener("click", () => {
          if (elTier) elTier.value = "";
          if (elType) elType.value = "";
          if (elPrice) elPrice.value = "";
          calcCrafting();
        });

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ñ‡πâ‡∏≤‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
      calcCrafting();
    };

    function closeGVModal() {
      document.getElementById("gvModal")?.classList.add("hidden");
    }

    function openGVModal(itemId) {
      const item = (currentItems || []).find(
        (x) => String(x.id) === String(itemId)
      );
      if (!item) return;

      const modal = document.getElementById("gvModal");
      const titleEl = document.getElementById("gvTitle");
      const listEl = document.getElementById("gvList");
      const search = document.getElementById("gvSearch");

      const kind = guessGVKind(item);
      titleEl.textContent =
        kind === "armor"
          ? "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏£‡∏≤‡∏∞/‡πÇ‡∏•‡πà (Base Item)"
          : "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò (Base Item)";

      const baseList = getBaseCandidatesForVariant(item);

      function render(q = "") {
        const term = q.trim().toLowerCase();
        listEl.innerHTML = baseList
          .filter((x) => !term || String(x.name).toLowerCase().includes(term))
          .map(
            (x) => `
              <div class="flex items-center gap-3 px-4 py-2 border-b border-gray-700/40">
                <div class="flex-1">
                  <div>${escapeHtml(x.name)}</div>
                  <div class="text-xs text-gray-400">‚Üí ${escapeHtml(
              x.resultName
            )}</div>
                </div>
                <div class="w-24 text-right tabular-nums">${fmt(
              x.price
            )} gp</div>
                <button class="px-2 py-1 rounded bg-fantasy-purple hover:bg-purple-700 text-white"
                        data-pick="${item.id}" data-bid="${x.id}"
                        data-name="${escapeHtml(
              x.name
            )}" data-rname="${escapeHtml(x.resultName)}"
                        data-price="${x.price}">
                  ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                </button>
              </div>
            `
          )
          .join("");

        listEl.querySelectorAll("[data-pick]").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const name = e.currentTarget.dataset.name;
            const rname = e.currentTarget.dataset.rname; // ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
            const price = Number(e.currentTarget.dataset.price) || 0;
            gvMap.set(item.id, {
              kind,
              id: e.currentTarget.dataset.bid,
              name,
              resultName: rname,
              price,
            });
            const chip = document.getElementById(`gvChip-${item.id}`);
            if (chip) chip.textContent = `${rname} (+${fmt(price)} gp)`;
            closeGVModal();
          });
        });
      }

      render();
      search.value = "";
      search.oninput = () => render(search.value);
      modal.classList.remove("hidden");
      document.getElementById("gvClose").onclick = closeGVModal;
      document.getElementById("gvCloseMobile").onclick = closeGVModal;
      modal.onclick = (e) => {
        if (e.target === modal) closeGVModal();
      };
    }
  </script>

  <script>
    // ===== Gemstone Variant state =====
    const gemMap = new Map(); // itemId -> { name, base, factor, final }

    function isGemstone(it) {
      const t = String(it.type || "")
        .trim()
        .toLowerCase();
      return t === "gemstone";
    }

    // ‡∏î‡∏∂‡∏á "‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤" 10/50/100/500/1000/5000 ‡∏à‡∏≤‡∏Å item (‡∏î‡∏π price ‡∏Å‡πà‡∏≠‡∏ô, ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡∏•‡∏≠‡∏á‡πÄ‡∏î‡∏≤‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠)
    function getGemBaseFromItem(item) {
      const priceNum = parsePrice(item?.price);
      if (priceNum && window.GEM_GROUPS?.[priceNum]) return priceNum;

      const m = String(item?.name || "").match(/(\d[\d,]*)\s*gp/i);
      if (m) {
        const v = Number(m[1].replace(/,/g, ""));
        if (window.GEM_GROUPS?.[v]) return v;
      }
      // ‡∏ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∑‡∏ô null (‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î modal ‡∏à‡∏∞‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°)
      return null;
    }

    function closeGemModal() {
      document.getElementById("gemModal")?.classList.add("hidden");
    }

    function openGemModal(itemId) {
      const item = (currentItems || []).find(
        (x) => String(x.id) === String(itemId)
      );
      if (!item) return;

      const modal = document.getElementById("gemModal");
      const listEl = document.getElementById("gemList");
      const search = document.getElementById("gemSearch");

      const base = getGemBaseFromItem(item); // 10/50/100/500/1000/5000 ‡∏´‡∏£‡∏∑‡∏≠ null
      const groups = window.GEM_GROUPS || {};
      const rules = window.GEM_RULES || {};

      // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏ç‡∏°‡∏ì‡∏µ (‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°)
      const rows = [];
      const keys = base
        ? [base]
        : Object.keys(groups)
          .map(Number)
          .sort((a, b) => a - b);
      keys.forEach((k) => {
        const factor = rules[k] || 1;
        (groups[k] || []).forEach((name) => {
          rows.push({ name, base: k, factor }); // ‡πÑ‡∏°‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì final ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
        });
      });

      function currentWorth() {
        const inp = document.getElementById("gemWorth");
        return Math.max(0, Number(inp?.value) || 0);
      }

      function render(q = "") {
        const worth = currentWorth();
        const term = q.trim().toLowerCase();
        const data = rows.filter(
          (x) => !term || x.name.toLowerCase().includes(term)
        );

        listEl.innerHTML = data
          .map(
            (x) => `
            <div class="flex items-center gap-3 px-4 py-2 border-b border-gray-700/40">
              <div class="flex-1">
                <div>${escapeHtml(x.name)}</div>
                <div class="text-xs text-gray-400">
                  ‚Üí ${fmt(worth)} gp √ó ${x.factor.toFixed(2)}
                  = <span class="text-fantasy-gold">${fmt(
              Math.round(worth * x.factor)
            )} gp</span>
                </div>
              </div>
              <button class="px-2 py-1 rounded bg-fantasy-purple hover:bg-purple-700 text-white"
                      data-pick="${item.id}"
                      data-name="${escapeHtml(x.name)}"
                      data-base="${x.base}"
                      data-factor="${x.factor}"
                      data-worth="${worth}"
                      data-final="${Math.round(worth * x.factor)}">
                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
              </button>
            </div>
          `
          )
          .join("");

        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å" ‡πÉ‡∏´‡πâ‡∏à‡∏î choice ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô gemMap ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏¥‡∏õ‡∏ö‡∏ô‡πÅ‡∏ñ‡∏ß‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
        listEl.querySelectorAll("[data-pick]").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const el = e.currentTarget;
            const sel = {
              name: el.dataset.name,
              base: Number(el.dataset.base) || 0,
              factor: Number(el.dataset.factor) || 1,
              worth: Number(el.dataset.worth) || 0,
              final: Number(el.dataset.final) || 0,
            };
            gemMap.set(item.id, sel);
            const chip = document.getElementById(`gemChip-${item.id}`);
            if (chip)
              chip.textContent = `${sel.name}:${fmt(
                sel.worth
              )} √ó ${sel.factor.toFixed(2)} = ${fmt(sel.final)} gp`;
            closeGemModal();
          });
        });
      }

      // bind worth + search
      const worthInput = document.getElementById("gemWorth");
      if (worthInput) {
        if (!worthInput.value) worthInput.value = "100";
        worthInput.oninput = () => render(search.value);
      }

      render();
      search.value = "";
      search.oninput = () => render(search.value);

      modal.classList.remove("hidden");
      document.getElementById("gemClose").onclick = closeGemModal;
      document.getElementById("gemCloseMobile").onclick = closeGemModal;
      modal.onclick = (e) => {
        if (e.target === modal) closeGemModal();
      };
    }

    // helper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏õ Discord
    function getGemAddon(it) {
      const sel = gemMap.get(it.id);
      if (!sel) return null;
      return {
        name: sel.name,
        factor: sel.factor,
        worth: sel.worth,
        final: sel.final,
      };
    }
  </script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
    document.addEventListener("visibilitychange", async () => {
      if (document.visibilityState !== "visible") return;
      saveFilters();
      await loadData();
      restoreFilters();
      filterItems(false);
    });
  </script>

</body>

</html>